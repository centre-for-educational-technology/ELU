/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;
/******/
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// identity function for calling harmory imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };
/******/
/******/ 	// define getter function for harmory exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		Object.defineProperty(exports, name, {
/******/ 			configurable: false,
/******/ 			enumerable: true,
/******/ 			get: getter
/******/ 		});
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports) {

eval("jQuery(document).ready(function($) {\n\n\n  $.ajaxSetup({\n    headers: {\n      'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n    }\n  });\n\n  // Date picker\n  $('#project_start').datetimepicker({\n    format: 'L'\n  });\n\n  $('#project_end').datetimepicker({\n    format: 'L'\n  });\n\n  $('#join_deadline').datetimepicker({\n    format: 'L'\n  });\n\n  $('.evaluation-dates').datetimepicker({\n    format: 'L'\n  });\n\n  $('#project_start').datetimepicker();\n  $('#project_end').datetimepicker({\n    useCurrent: false //Important! See issue #1075\n  });\n  $(\"#project_start\").on(\"dp.change\", function (e) {\n    $('#project_end').data(\"DateTimePicker\").minDate(e.date);\n  });\n  $(\"#project_end\").on(\"dp.change\", function (e) {\n    $('#project_start').data(\"DateTimePicker\").maxDate(e.date);\n  });\n\n\n\n  // Tags input\n  $('input #tags').on('change', function(event) {\n    var $element = $(event.target),\n      $container = $element.closest('.example');\n\n    var val = $element.val();\n    if (val === null)\n      val = \"null\";\n    $('code', $('pre.val', $container)).html( ($.isArray(val) ? JSON.stringify(val) : \"\\\"\" + val.replace('\"', '\\\\\"') + \"\\\"\") );\n    $('code', $('pre.items', $container)).html(JSON.stringify($element.tagsinput('items')));\n  }).trigger('change');\n\n\n  // Sweet alert\n  $(\"button#delete\").on(\"click\", function(e){\n\n    swal({\n        title: window.Laravel.are_you_sure_notification,\n        text: window.Laravel.cannot_restore_notification,\n        type: \"warning\",\n        showCancelButton: true,\n        confirmButtonColor: \"#DD6B55\",\n        confirmButtonText: window.Laravel.yes_delete,\n        cancelButtonText: window.Laravel.no,\n        closeOnConfirm: false\n      },\n      function(){\n        $(e.target).prev('.delete-project').submit();\n\n      });\n\n  });\n\n\n  $(\"button#delete-user-button\").on(\"click\", function(e){\n\n    swal({\n        title: window.Laravel.are_you_sure_notification,\n        type: \"warning\",\n        showCancelButton: true,\n        confirmButtonColor: \"#DD6B55\",\n        confirmButtonText: window.Laravel.yes_delete,\n        cancelButtonText: window.Laravel.no,\n        closeOnConfirm: false\n      },\n      function(){\n        $(e.target).prev('.delete-user').submit();\n\n      });\n\n  });\n\n\n  $(\"a#groups-finish-button\").on(\"click\", function(e){\n    if(!$(\"a#groups-finish-button\").hasClass('not-empty')){\n      e.preventDefault();\n\n      swal({\n        title: window.Laravel.finish_project_notification,\n        type: \"info\",\n        confirmButtonText: window.Laravel.yes,\n        closeOnConfirm: false\n      });\n    }\n\n\n  });\n\n  // Select2\n  $(\".js-example-basic-multiple\").select2();\n  $(\".co_supervisor\").select2();\n\n\n\n  // Select2 Ajax - attaching users to project team manually\n  $(\".js-users-data-ajax\").select2({\n    placeholder: window.Laravel.name_or_email_placeholder,\n    language: { inputTooShort: function () { return window.Laravel.three_or_more_char; } },\n    allowClear: true,\n    ajax: {\n      url: window.Laravel.search_user_api_url,\n      dataType: 'json',\n      delay: 250,\n      method: 'POST',\n      data: function (params) {\n        return {\n          q: params.term, // search term\n          project_id: $('.js-users-data-ajax').attr(\"project-id\"),\n          page: params.page\n        };\n      },\n      processResults: function (data) {\n        return {\n          results: $.map(data, function (item) {\n            return {\n              text: (item.full_name ? item.full_name : item.name) + ' ('+(item.contact_email? item.contact_email : item.email)+')',\n              id: item.id\n            }\n          })\n        };\n      },\n      cache: false\n    },\n    escapeMarkup: function (markup) { return markup; }, // let our custom formatter work\n    minimumInputLength: 3\n  });\n\n  //Smooth scroll for front page\n  $('body.frontpage a[href*=\"#\"]:not([href=\"#\"])').click(function() {\n    if (location.pathname.replace(/^\\//,'') == this.pathname.replace(/^\\//,'') && location.hostname == this.hostname) {\n      var target = $(this.hash);\n      target = target.length ? target : $('[name=' + this.hash.slice(1) +']');\n      if (target.length) {\n        $('html, body').animate({\n          scrollTop: target.offset().top\n        }, 1000);\n        return false;\n      }\n    }\n  });\n\n\n\n  //Go from front page to certain tab in FAQ page\n  var hash = window.location.hash;\n  if(hash.startsWith('#item')){\n    hash && $('ul.nav a[href=\"' + hash + '\"]').tab('show');\n  }\n\n  //Search form\n  $('.search-panel .navbar-nav').find('a').click(function(e) {\n    e.preventDefault();\n    var param = $(this).attr(\"href\").replace(\"#\",\"\");\n    var concept = $(this).text();\n    $('.search-panel span#search_concept').text(concept);\n    $('.form-group #search_param').val(param);\n  });\n\n  var selector = '.search-panel .navbar-nav li';\n\n  $(selector).on('click', function(){\n    $(selector).removeClass('active');\n    $(this).addClass('active');\n  });\n\n\n\n  //Panel used in search view to show a list of member emails\n  $('.panel-heading span.clickable').parents('.panel').find('.panel-body').slideUp();\n\n  $('.panel-heading span.clickable').on(\"click\", function(e){\n    var $this = $(this);\n    if(!$this.hasClass('panel-collapsed')) {\n      $this.parents('.panel').find('.panel-body').slideUp();\n      $this.addClass('panel-collapsed');\n      $this.find('i').removeClass('glyphicon-chevron-up').addClass('glyphicon-chevron-down');\n    } else {\n      $this.parents('.panel').find('.panel-body').slideDown();\n      $this.removeClass('panel-collapsed');\n      $this.find('i').removeClass('glyphicon-chevron-down').addClass('glyphicon-chevron-up');\n    }\n  });\n\n\n  //Facebook sharing button handler, Facebook SDK for JavaScript\n  function postToFeed(url){\n    var obj = {method: 'feed',link: url};\n    function callback(response){}\n    FB.ui(obj, callback);\n  }\n\n  $('.btnShare').click(function(){\n    elem = $(this);\n    postToFeed(elem.prop('href'));\n\n    return false;\n  });\n\n\n  // Populating fields after a failed submit/refresh\n  try {\n    var cosupervisors = JSON.parse($('#co_supervisors').val());\n    $($('#co_supervisor_div').children()[0]).val(cosupervisors[0]);  \n    for (var i=1;i<cosupervisors.length;i++) {\n      $('#co_supervisor_div').append(getCosupervisorFieldToAdd(cosupervisors[i]));\n      $($('.co_supervisor')[$('.co_supervisor').length-1]).select2();\n    }\n  } catch (err) {\n    console.log('No previous values for cosupervisors: '+err);\n  }\n  \n  try {\n    var meetings_et = JSON.parse($('#meetings_et').val());\n    $($($($($('#first_meeting_et').children()[$('#first_meeting_et').children().length-1]).children()[0]).children()[1]).children()[0]).val(meetings_et[0][0]);\n    $($($($($($('#first_meeting_et').children()[$('#first_meeting_et').children().length-1]).children()[1]).children()[0])[0])[0]).val(meetings_et[0][1]);\n    for (var i=1;i<meetings_et.length;i++) {\n      $('#other_meetings_et').append(getMeetingFieldToAdd('et'));\n      $($($($($('#other_meetings_et').children()[$('#other_meetings_et').children().length-1]).children()[0]).children()[1]).children()[0]).val(meetings_et[i][0]);\n      $($($($($($('#other_meetings_et').children()[$('#other_meetings_et').children().length-1]).children()[1]).children()[0])[0])[0]).val(meetings_et[i][1]);\n    }\n  } catch (err) {\n    console.log('No previous values for meetings_et: '+err);\n  }\n\n  try {\n    var meetings_en = JSON.parse($('#meetings_en').val());\n    $($($($($('#first_meeting_en').children()[$('#first_meeting_en').children().length-1]).children()[0]).children()[1]).children()[0]).val(meetings_en[0][0]);\n    $($($($($($('#first_meeting_en').children()[$('#first_meeting_en').children().length-1]).children()[1]).children()[0])[0])[0]).val(meetings_en[0][1]);\n    for (var i=1;i<meetings_en.length;i++) {\n      $('#other_meetings_en').append(getMeetingFieldToAdd('en'));\n      $($($($($('#other_meetings_en').children()[$('#other_meetings_en').children().length-1]).children()[0]).children()[1]).children()[0]).val(meetings_en[i][0]);\n      $($($($($($('#other_meetings_en').children()[$('#other_meetings_en').children().length-1]).children()[1]).children()[0])[0])[0]).val(meetings_en[i][1]);\n    }\n  } catch (err) {\n    console.log('No previous values for meetings_en: '+err);\n  }\n\n  try {\n    var tags_et = JSON.parse($('#keywords_et').val());\n    for (var i=0;i<tags_et.length;i++) {\n      $('.tags_et').val(tags_et[i]);\n      addTag('et');\n    }\n    $('.tags_et').val('');\n  } catch (err) {\n    console.log('No previous values for tags_et: '+err);\n  }\n  \n  try {\n    var tags_en = JSON.parse($('#keywords_en').val());\n    for (var i=0;i<tags_en.length;i++) {\n      $('.tags_en').val(tags_en[i]);\n      addTag('en');\n    }\n    $('.tags_en').val('');\n  } catch (err) {\n    console.log('No previous values for tags_en: '+err);\n  }\n\n\n  // Form/Project language selection\n  $('#project_in_english').children('input').on('click', function () {\n    $('.form_english').toggleClass(\"disabledForm\");\n    if ($('.form_english').hasClass('disabledForm')) {\n      $('.form_english').find('input').attr('disabled', 'true');\n      $('.form_english').find('textarea').attr('disabled', 'true');\n    } else {\n      $('.form_english').find('input').removeAttr('disabled');\n      $('.form_english').find('textarea').removeAttr('disabled');\n    }\n  });\n  $('#project_in_estonian').children('input').on('click', function () {\n    $('.form_estonian').toggleClass(\"disabledForm\");\n    if ($('.form_estonian').hasClass('disabledForm')) {\n      $('.form_estonian').find('input').attr('disabled', 'true');\n      $('.form_estonian').find('textarea').attr('disabled', 'true');\n    } else {\n      $('.form_estonian').find('input').removeAttr('disabled');\n      $('.form_estonian').find('textarea').removeAttr('disabled');\n    }\n  });\n\n  $('#submit_project').on('click', function (e) {\n    e.preventDefault();\n\n    // To stop tinyMCE inputs be accepted with just spaces\n    /*\n    tinyMCE.get('description_et').setContent(removeExcessWhitespaceFromString(tinyMCE.get('description_et').getContent().split('&nbsp;').join(' ')));\n    tinyMCE.get('description_en').setContent(removeExcessWhitespaceFromString(tinyMCE.get('description_en').getContent().split('&nbsp;').join(' ')));\n    tinyMCE.get('project_outcomes_et').setContent(removeExcessWhitespaceFromString(tinyMCE.get('project_outcomes_et').getContent().split('&nbsp;').join(' ')));\n    tinyMCE.get('project_outcomes_en').setContent(removeExcessWhitespaceFromString(tinyMCE.get('project_outcomes_en').getContent().split('&nbsp;').join(' ')));\n    tinyMCE.get('interdisciplinary_approach_et').setContent(removeExcessWhitespaceFromString(tinyMCE.get('interdisciplinary_approach_et').getContent().split('&nbsp;').join(' ')));\n    tinyMCE.get('interdisciplinary_approach_en').setContent(removeExcessWhitespaceFromString(tinyMCE.get('interdisciplinary_approach_en').getContent().split('&nbsp;').join(' ')));\n    tinyMCE.triggerSave();\n    */\n\n    // Adding tags from div to an input field, to send the data\n    var tags_estonian = [];\n    for (var i=0;i<$('#tags_et_output').children().length;i++) {\n      tags_estonian.push($('#tags_et_output').children()[i].innerHTML.split('<')[0]);\n    }\n    if (tags_estonian.length != 0) {\n      $('#keywords_et').val(JSON.stringify(tags_estonian));\n    }\n\n    var tags_english = [];\n    for (var i=0;i<$('#tags_en_output').children().length;i++) {\n      tags_english.push($('#tags_en_output').children()[i].innerHTML.split('<')[0]);\n    }\n    if (tags_english.length != 0) {\n      $('#keywords_en').val(JSON.stringify(tags_english));\n    }\n    \n    // Adding meeting dates from different fields to one, to send all data with one parameter\n    var meetings_et = [];\n    var meetings_en = [];\n    for (var i=0;i<$('.meeting_date_et').length;i++)\n    {\n      var meeting = []\n      meeting.push($($('.meeting_date_et')[i]).val());\n      meeting.push($($('.meeting_info_et')[i]).val());\n      meetings_et.push(meeting);\n    }\n    for (var i=0;i<$('.meeting_date_en').length;i++)\n    {\n      var meeting = []\n      meeting.push($($('.meeting_date_en')[i]).val());\n      meeting.push($($('.meeting_info_en')[i]).val());\n      meetings_en.push(meeting);\n    }\n    if (meetings_et[0][0] != '') {\n      $('#meetings_et').val(JSON.stringify(meetings_et));\n    }\n    if (meetings_en[0][0] != '') {\n      $('#meetings_en').val(JSON.stringify(meetings_en));\n    }\n\n    // Adding cosupervisors from different fields to one, to send all data with one parameter\n    var co_supervisors = []\n    for (var i=0;i<$('.co_supervisor').length;i++)\n    {\n      co_supervisors.push($($('.co_supervisor')[i]).val());\n    }\n    $('#co_supervisors').val(JSON.stringify(co_supervisors));\n    \n    $('#hidden_project_form_submit').trigger('click');\n  });\n\n  $('.study_term_button').on('click', function () {\n    $('.study_term_button').removeClass('btn-info');\n    $('.study_term_button').removeClass('btn-default');\n    $(this).removeClass('btn-default');\n    $(this).addClass('btn-info');\n    $('#'+$(this).attr('id')+'_radio').prop('checked', true);\n  });\n\n  // Learning outcomes show/hide\n  $('#open_learning_outcomes').on('click', function () {\n    $('#learning_outcomes').toggle(100);\n    $('#open_learning_outcomes').toggle(1);\n    $('#close_learning_outcomes').toggle(1);\n  });\n\n  $('#close_learning_outcomes').on('click', function () {\n    $('#learning_outcomes').toggle(100);\n    $('#close_learning_outcomes').toggle(1);\n    $('#open_learning_outcomes').toggle(1);\n  });\n\n\n  // Typeahead styling\n  $('body').on(\"mouseover\", \".tt-suggestion\", function () {\n    $('.tt-suggestion').removeClass('tt-cursor');\n    $(this).addClass('tt-cursor');\n  });\n\n  // Adding Typeahead to tags input in new project form\n  $.ajax({\n    url: window.Laravel.base_path+'/all_tags'\n  }).done(function (tags) {\n    var list_of_tags_et = new Bloodhound({\n      local: tags['et'],\n      queryTokenizer: Bloodhound.tokenizers.whitespace,\n      datumTokenizer: Bloodhound.tokenizers.whitespace\n    });\n    var list_of_tags_en = new Bloodhound({\n      local: tags['en'],\n      queryTokenizer: Bloodhound.tokenizers.whitespace,\n      datumTokenizer: Bloodhound.tokenizers.whitespace\n    });\n    $('input.tags_et').on('keypress', function (event) {if (event.keyCode == 13 || event.which == 13) {\n      event.preventDefault();\n      addTag('et');\n      $(this).val('');\n    }});\n    $('input.tags_en').on('keypress', function (event) {if (event.keyCode == 13 || event.which == 13) {\n      event.preventDefault();\n      addTag('en');\n      $(this).val('');\n    }});\n    $('input[name=tags_et]').typeahead({hint:false,minLength:1,highlight:true},{name:'tags_et',source:list_of_tags_et});\n    $('input[name=tags_en]').typeahead({hint:false,minLength:1,highlight:true},{name:'tags_en',source:list_of_tags_en});\n  });\n\n  // Adding datepicker to initial date inputs in new project form\n  $('.glyphicon-calendar').parent().siblings().children('input').pickadate({format: 'dd/mm/yyyy'});\n  $('.glyphicon-calendar').on('click', function (event) {\n    event.stopPropagation();\n    $($(this).parent().siblings().children('input')[0]).pickadate('open');\n  });\n\n  function addTag (language) {\n    newTag = document.createElement('span');\n    newTag.className = 'tag_output';\n    newTag.innerHTML = $('input.tags_'+language+'').val() + '<span class=\\'glyphicon glyphicon-remove\\'></span>';\n    $(newTag).children('span.glyphicon-remove').on('click', function () {\n      $(this).parent().remove();\n    });\n    $('#tags_'+language+'_output').append(newTag);\n  }\n  \n\n  $('#add_meeting_et').on('click', function () {$('#other_meetings_et').append(getMeetingFieldToAdd('et'));});\n  $('#add_meeting_en').on('click', function () {$('#other_meetings_en').append(getMeetingFieldToAdd('en'));});\n  $('#remove_meeting_et').on('click', function () {$('#other_meetings_et').children(':last-child').remove();});\n  $('#remove_meeting_en').on('click', function () {$('#other_meetings_en').children(':last-child').remove();});\n  $('#add_cosupervisor').on('click', function () {\n    $(this).parent().prev('#co_supervisor_div').append(getCosupervisorFieldToAdd(null));\n    $($('.co_supervisor')[$('.co_supervisor').length-1]).select2();\n  });\n  $('#remove_cosupervisor').on('click', function () {\n    $(this).parent().prev('#co_supervisor_div').children(':last-child').remove();\n    $(this).parent().prev('#co_supervisor_div').children(':last-child').remove();\n  });\n\n  function getCosupervisorFieldToAdd (selected) {\n    newCosupervisorSelect = document.createElement('select');\n    newCosupervisorSelect.className =\"form-control co_supervisor\";\n    $.ajax ({\n      url: window.Laravel.base_path+'/api/teachers/get',\n      dataType: 'json',\n      method: 'POST',\n    }).done (function (teachers) {\n      for (var i=0;i<teachers.length;i++) {\n        cosupervisorOption = document.createElement('option');\n        cosupervisorOption.value = teachers[i].id;\n        if (selected != null && teachers[i].id == selected) {\n          cosupervisorOption.selected = true;\n        }\n        cosupervisorOption.innerHTML = teachers[i].full_name;\n        newCosupervisorSelect.append(cosupervisorOption);\n      }\n    });\n    return newCosupervisorSelect;\n  }\n\n  function getMeetingFieldToAdd (language) {\n    outerDiv = document.createElement('div');\n    outerDiv.className = 'row';\n    iconDiv = document.createElement('div');\n    iconDiv.className = 'col-lg-4';\n    iconCalendarDiv = document.createElement('div');\n    iconCalendarDiv.className = 'col-lg-12';\n    iconCalendar = document.createElement('span');\n    iconCalendar.className = 'glyphicon glyphicon-calendar';\n    iconCalendar.style = 'font-size:75px;';\n    iconSubCalendarInputDiv = document.createElement('div');\n    iconSubCalendarInputDiv.className = 'col-lg-12';\n    iconSubCalendarInput = document.createElement('input');\n    iconSubCalendarInput.className = 'form-control meeting_date_'+language;\n    iconSubCalendarInput.type = 'text';\n    textareaDiv = document.createElement('div');\n    textareaDiv.className = 'col-lg-7';\n    textarea = document.createElement('textarea');\n    textarea.className = 'meeting_info_'+language;\n    textarea.style = 'width: 100%;';\n    textarea.rows = '5';\n    iconDiv.append(iconCalendarDiv);\n    iconCalendarDiv.append(iconCalendar);\n    iconDiv.append(iconSubCalendarInputDiv);\n    iconSubCalendarInputDiv.append(iconSubCalendarInput);\n    textareaDiv.append(textarea);\n    outerDiv.append(iconDiv);\n    outerDiv.append(textareaDiv);\n    $(iconSubCalendarInput).pickadate({format: 'dd/mm/yyyy'});\n    $(iconCalendar).on('click', function (event) {\n      event.stopPropagation();\n      $($(this).parent().siblings().children('input')[0]).pickadate('open');\n    });\n    return outerDiv;\n  }\n\n\n  //TinyMC\n  tinyMCE.baseURL = window.Laravel.base_path+\"/js/tinymce\";\n\n  tinymce.init({\n    mode : \"textareas\",\n    theme : \"modern\",\n    language: window.Laravel.language,\n    plugins: [\"link\", \"paste\"],\n    menubar: false,\n    toolbar: \"link\",\n    removeformat: [\n      {selector: 'b,strong,em,i,font,u,strike', remove : 'all', split : true, expand : false, block_expand: true, deep : true},\n      {selector: 'span', attributes : ['style', 'class'], remove : 'empty', split : true, expand : false, deep : true},\n      {selector: '*', attributes : ['style', 'class'], split : false, expand : false, deep : true,}\n    ],\n    selection_toolbar: 'bold italic | quicklink h2 h3 blockquote',\n    editor_selector : \"mceSimpleLink\",\n    paste_as_text: true\n  });\n\n  tinyMCE.init({\n    mode : \"textareas\",\n    language: window.Laravel.language,\n    plugins: [\"link\", \"lists\", \"paste\", \"noneditable\", \"preventdelete\"],\n    height : \"350\",\n    removeformat: [\n      {selector: 'b,strong,em,i,font,u,strike', remove : 'all', split : true, expand : false, block_expand: true, deep : true},\n      {selector: 'span', attributes : ['style', 'class'], remove : 'empty', split : true, expand : false, deep : true},\n      {selector: '*', attributes : ['style', 'class'], split : false, expand : false, deep : true}\n    ],\n    toolbar: \"redo undo bold italic numlist bullist link\",\n    menubar: false,\n    editor_selector : \"mceSimple\",\n    paste_as_text: true\n  });\n\n  $('#submit-project-button').on('click', function (e) {\n    e.preventDefault();\n    tinyMCE.triggerSave();\n    tinyMCE.get('project_outcomes').setContent(removeExcessWhitespaceFromString(tinyMCE.get('project_outcomes').getContent().split('&nbsp;').join(' ')));\n    tinyMCE.get('novelty_desc').setContent(removeExcessWhitespaceFromString(tinyMCE.get('novelty_desc').getContent().split('&nbsp;').join(' ')));\n    tinyMCE.get('aim').setContent(removeExcessWhitespaceFromString(tinyMCE.get('aim').getContent().split('&nbsp;').join(' ')));\n    tinyMCE.get('description').setContent(removeExcessWhitespaceFromString(tinyMCE.get('description').getContent().split('&nbsp;').join(' ')));\n    tinyMCE.triggerSave();\n    $('#project-form').submit();\n  });\n\n\n  function removeExcessWhitespaceFromString (string) {\n    var stringLength = string.length;\n    var outputString = \"\";\n    for (var i=0;i<stringLength-1;i++) {\n      if (!(string[i] === \" \" && string[i+1] === \" \" || string[i] === \" \" && string[i+1] === \"<\" || string[i-1] === \">\" && string[i] === \" \")) {\n        outputString += string[i];\n      }\n    }\n    if (string[stringLength] !== \" \") {\n      outputString += string[stringLength-1]\n    }\n    // Removing empty tags\n    var helper = $('<div>').append(outputString);\n    removeEmptyIfNoChildren(helper);\n    outputString = helper.prop('innerHTML');\n    return outputString;\n  }\n\n  function removeEmptyIfNoChildren (element) {\n    if (element.children().length > 0) {\n      element.children().each(function () {\n        removeEmptyIfNoChildren($(this));\n      });\n    }\n    if (element.html() === \"\") {\n      element.remove();\n    }\n  }\n\n  //Front page logo translation\n  if(window.Laravel.language == 'en'){\n    $('.block01.block01b > .pad').css(\"background\", 'url(css/bg05_en.png) no-repeat 50% 50%');\n  }else{\n    $('.block01.block01b > .pad').css(\"background\", 'url(css/bg05.png) no-repeat 50% 50%');\n  }\n\n\n  //Select project share url on click on input\n  $(\"input[name='share_url']\").on(\"click\", function () {\n    $(this).select();\n  });\n\n\n  if($(\"#project_all_members\").length) {\n\n    //Project id used by ProjectModerator middleware\n    var url = window.location.pathname;\n    var segments = url.split( '/' );\n    var project_id =  segments[segments.length-2];\n\n\n    //Drag and drop project group members functionality\n    Sortable.create(project_all_members, {\n      group: { name: \"project-all-members\", pull: true, put:true },\n      animation: 150,\n      handle: '.drag-handle'\n    });\n\n    var el = $('.project-group');\n    $(el).each(function (i,e) {\n      var sortable = Sortable.create(e, {\n        group: {\n          name: el.attr('group-id'),\n          pull: true,\n          put: function () {\n            return true;\n          }\n        },\n        animation: 150,\n        handle: '.drag-handle',\n        onAdd: function (evt) {\n\n          var itemEl = evt.item;  // dragged HTMLElement\n          var from = evt.from;\n\n\n          $.ajax({\n            url: window.Laravel.add_user_to_group_api_url,\n            dataType: 'json',\n            delay: 250,\n            method: 'POST',\n            cache: false,\n            data: {\n\n              id: project_id,\n              to: $(itemEl).parent().attr('group-id'),\n              from: $(from).attr('group-id'),\n              user: $(itemEl).attr('user-id')\n\n            }\n          }).done(function( msg ) {\n            console.log(msg);\n            if($('a#groups-finish-button').length){\n              $('a#groups-finish-button').addClass('not-empty');\n            }\n\n\n          });\n\n        }\n\n      });\n    })\n  }\n\n\n  //Copy user main TLU email into contact email fields, used on profile page\n  $(\"#filler\").click(fillValues);\n\n\n  function fillValues() {\n    var value = $(\"#tlu_email\").val();\n    var fields= $(\".contact-email\");\n    fields.each(function (i) {\n      $(this).val(value);\n    });\n  }\n\n\n\n  //Add custom institution field in user registration form\n  $('#institution').on('change',function(){\n    if( $(this).val() === window.Laravel.other_institution){\n      $(\"#other-institution\").show()\n    }\n    else{\n      $(\"#other-institution\").hide()\n    }\n  });\n\n\n\n\n  // Add new group links input field\n  var add_links_field_buttons = $(\".add_links_field_button\");\n\n  add_links_field_buttons.each(function (i, obj) {\n    var group_id = $(obj).attr(\"group-id\");\n    $(obj).click(function(e){\n      e.preventDefault();\n      var $div = $(this).next( \".group-materials\").children().last();\n\n      var num = $div.prop(\"id\");\n\n      num = parseInt(num.split(\"_\").pop());\n\n\n      var clone = $($div).clone();\n      clone.prop('id', 'group_materials_'+group_id+'_'+(num+1));\n      clone.find(\"input\").val(\"\");\n      clone.insertAfter($div);\n\n      var tagsinput = clone.find('.tags');\n      clone.find('.bootstrap-tagsinput').remove();\n\n      $(tagsinput).attr('name', 'group_material_tags['+group_id+'][]');\n      $(tagsinput).addClass('form-control tags');\n      tagsinput.tagsinput();\n      tagsinput.tagsinput('removeAll');\n\n\n\n\n\n    });\n\n  });\n\n\n\n\n  // Remove group links input field\n  var remove_links_field_button = $(\".remove_links_field_button\");\n\n  remove_links_field_button.each(function (i, obj) {\n    var group_id = $(obj).attr(\"group-id\");\n    $(obj).click(function(e){\n\n      e.preventDefault();\n      var $div = $(this).parent().children(\":last-child\");\n\n      var num = $div.prop(\"id\");\n\n      num = parseInt(num.split(\"_\").pop());\n\n      if(num>0){\n        $div.remove();\n      }\n\n\n\n\n\n\n    });\n  });\n\n\n\n  $('[data-toggle=\"popover\"]').popover();\n\n\n  $('#clear-embedded').click(function(){\n    $('#embedded')\n      .val('')\n  });\n\n\n  $('#clear-group-embedded').click(function(){\n    $(this).prev('input').val('');\n  });\n\n\n  $('body').tooltip({\n    selector: '[rel=\"tooltip\"]'\n  });\n\n\n  //Group title renaming;\n  $('.group-name').editable({\n    send:'always',\n    ajaxOptions: {\n      dataType: 'json',\n      type: 'post',\n\n    },\n    params: function(params) {\n      //originally params contain pk, name and value\n      params.id = $(this).closest(\"div\").attr(\"project-id\");\n      return params;\n    }\n\n  });\n\n\n\n\n\n});\n\nDropzone.autoDiscover = false;\nDropzone.prototype.defaultOptions.dictRemoveFile = window.Laravel.remove_file_button;\n\nvar dropzones = $(\".dropzone\");\ndropzones.each(function (i) {\n  if (this.id.indexOf(\"presentationUpload\") !== -1) {\n    var resourceName = \"Poster\";\n    var accepted = \"application/pdf\";\n    var maxNumberOfFiles = 1;\n    var group_id = parseInt( $(this).prop(\"id\").match(/\\d+/g), 10 );\n\n    var project_id = $(\"#presentationUpload\"+group_id).attr(\"project-id\");\n    var dropzone_name = \"#presentationUpload\"+group_id;\n  } else {\n    var resourceName = \"Materials\";\n    var accepted = \"\";\n    var maxNumberOfFiles = 100;\n    var group_id = parseInt( $(this).prop(\"id\").match(/\\d+/g), 10 );\n\n    var project_id = $(\"#materialsUpload\"+group_id).attr(\"project-id\");\n    var dropzone_name = \"#materialsUpload\"+group_id;\n  }\n  if (this.getAttribute('auth') == 'student') {\n    var routeTo = 'finish';\n  } else {\n    var routeTo = 'project';\n  }\n\n    var myDropzone = new Dropzone(dropzone_name, {\n    url: window.Laravel.base_path+\"/\"+routeTo+\"/\"+project_id+\"/finish/upload\"+resourceName,\n    params: {\n      id: project_id,\n      _token: window.Laravel.csfr_token,\n      group_id: group_id\n    },\n    timeout: 0,\n    parallelUploads: 1,\n    paramName: \"file\",\n    acceptedFiles: accepted,\n    maxFiles: maxNumberOfFiles,\n    maxFilesize: 30, // MB\n\n    addRemoveLinks: true,\n\n    init:function() {\n\n\n      // Add server images\n      var myDropzone = this;\n\n      $.get(window.Laravel.base_path+\"/\"+routeTo+\"/\"+project_id+\"/api/group-\"+resourceName+\"?groupid=\"+group_id, function(data) {\n\n\n        $.each(data.images, function (key, value) {\n          var file = {name: value.filename, size: value.size};\n          myDropzone.options.addedfile.call(myDropzone, file);\n          myDropzone.createThumbnailFromUrl(file, window.Laravel.base_path+\"/storage/projects_groups_images/\"+group_id+\"/\"+value.name);\n          myDropzone.emit(\"complete\", file);\n          var btndelete = file.previewElement.querySelector(\"[data-dz-remove]\");\n          btndelete.setAttribute(\"id\", 'delete-media-name-'+value.name);\n\n        });\n      });\n\n      this.on(\"removedfile\", function(file) {\n\n        var btndelete = file.previewElement.querySelector(\"[data-dz-remove]\");\n        if(btndelete.hasAttribute(\"id\")) {\n          var filename = btndelete.getAttribute(\"id\").substr(18);\n        }\n\n        $.ajax({\n          url: window.Laravel.base_path+\"/\"+routeTo+\"/\"+project_id+\"/finish/delete\"+resourceName,\n          dataType: 'json',\n          delay: 250,\n          method: 'POST',\n          cache: false,\n          data: {\n\n            id: project_id,\n            name: filename,\n            group_id: group_id\n\n          }\n        }).done(function( msg ) {\n          console.log(msg);\n\n        });\n\n      } );\n    },\n    success: function(file, serverResponse) {\n      var fileuploded = file.previewElement.querySelector(\"[data-dz-name]\");\n      fileuploded.innerHTML = serverResponse.newfilename;\n      var btndelete = file.previewElement.querySelector(\"[data-dz-remove]\");\n      btndelete.setAttribute(\"id\", 'delete-media-name-'+serverResponse.newfilename);\n      window.alert('Upload successful');\n    }\n  });\n});\n\n\n\n\n\n\n\n\n/*\n  Sending DELETE request without a form\n  Example:\n  <a href=\"posts/2\" data-method=\"delete\" data-token=\"{{csrf_token()}}\">\n */\n\n(function() {\n\n  var laravel = {\n    initialize: function() {\n      this.methodLinks = $('a[data-method]');\n      this.token = $('a[data-token]');\n      this.registerEvents();\n    },\n\n    registerEvents: function() {\n      this.methodLinks.on('click', this.handleMethod);\n    },\n\n    handleMethod: function(e) {\n      var link = $(this);\n      var httpMethod = link.data('method').toUpperCase();\n      var form;\n\n      // If the data-method attribute is not PUT or DELETE,\n      // then we don't know what to do. Just ignore.\n      if ( $.inArray(httpMethod, ['PUT', 'DELETE']) === - 1 ) {\n        return;\n      }\n\n      // Allow user to optionally provide data-confirm=\"Are you sure?\"\n      if ( link.data('confirm') ) {\n        if ( ! laravel.verifyConfirm(link) ) {\n          return false;\n        }\n      }\n\n      form = laravel.createForm(link);\n      form.submit();\n\n      e.preventDefault();\n    },\n\n    verifyConfirm: function(link) {\n      return confirm(link.data('confirm'));\n    },\n\n    createForm: function(link) {\n      var form =\n        $('<form>', {\n          'method': 'POST',\n          'action': link.attr('href')\n        });\n\n      var token =\n        $('<input>', {\n          'type': 'hidden',\n          'name': '_token',\n          'value': link.data('token')\n        });\n\n      var hiddenInput =\n        $('<input>', {\n          'name': '_method',\n          'type': 'hidden',\n          'value': link.data('method')\n        });\n\n      return form.append(token, hiddenInput)\n        .appendTo('body');\n    }\n  };\n\n  laravel.initialize();\n\n})();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9yZXNvdXJjZXMvYXNzZXRzL2pzL2FwcC5qcz84YjY3Il0sInNvdXJjZXNDb250ZW50IjpbImpRdWVyeShkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oJCkge1xuXG5cbiAgJC5hamF4U2V0dXAoe1xuICAgIGhlYWRlcnM6IHtcbiAgICAgICdYLUNTUkYtVE9LRU4nOiAkKCdtZXRhW25hbWU9XCJjc3JmLXRva2VuXCJdJykuYXR0cignY29udGVudCcpXG4gICAgfVxuICB9KTtcblxuICAvLyBEYXRlIHBpY2tlclxuICAkKCcjcHJvamVjdF9zdGFydCcpLmRhdGV0aW1lcGlja2VyKHtcbiAgICBmb3JtYXQ6ICdMJ1xuICB9KTtcblxuICAkKCcjcHJvamVjdF9lbmQnKS5kYXRldGltZXBpY2tlcih7XG4gICAgZm9ybWF0OiAnTCdcbiAgfSk7XG5cbiAgJCgnI2pvaW5fZGVhZGxpbmUnKS5kYXRldGltZXBpY2tlcih7XG4gICAgZm9ybWF0OiAnTCdcbiAgfSk7XG5cbiAgJCgnLmV2YWx1YXRpb24tZGF0ZXMnKS5kYXRldGltZXBpY2tlcih7XG4gICAgZm9ybWF0OiAnTCdcbiAgfSk7XG5cbiAgJCgnI3Byb2plY3Rfc3RhcnQnKS5kYXRldGltZXBpY2tlcigpO1xuICAkKCcjcHJvamVjdF9lbmQnKS5kYXRldGltZXBpY2tlcih7XG4gICAgdXNlQ3VycmVudDogZmFsc2UgLy9JbXBvcnRhbnQhIFNlZSBpc3N1ZSAjMTA3NVxuICB9KTtcbiAgJChcIiNwcm9qZWN0X3N0YXJ0XCIpLm9uKFwiZHAuY2hhbmdlXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgJCgnI3Byb2plY3RfZW5kJykuZGF0YShcIkRhdGVUaW1lUGlja2VyXCIpLm1pbkRhdGUoZS5kYXRlKTtcbiAgfSk7XG4gICQoXCIjcHJvamVjdF9lbmRcIikub24oXCJkcC5jaGFuZ2VcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAkKCcjcHJvamVjdF9zdGFydCcpLmRhdGEoXCJEYXRlVGltZVBpY2tlclwiKS5tYXhEYXRlKGUuZGF0ZSk7XG4gIH0pO1xuXG5cblxuICAvLyBUYWdzIGlucHV0XG4gICQoJ2lucHV0ICN0YWdzJykub24oJ2NoYW5nZScsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyICRlbGVtZW50ID0gJChldmVudC50YXJnZXQpLFxuICAgICAgJGNvbnRhaW5lciA9ICRlbGVtZW50LmNsb3Nlc3QoJy5leGFtcGxlJyk7XG5cbiAgICB2YXIgdmFsID0gJGVsZW1lbnQudmFsKCk7XG4gICAgaWYgKHZhbCA9PT0gbnVsbClcbiAgICAgIHZhbCA9IFwibnVsbFwiO1xuICAgICQoJ2NvZGUnLCAkKCdwcmUudmFsJywgJGNvbnRhaW5lcikpLmh0bWwoICgkLmlzQXJyYXkodmFsKSA/IEpTT04uc3RyaW5naWZ5KHZhbCkgOiBcIlxcXCJcIiArIHZhbC5yZXBsYWNlKCdcIicsICdcXFxcXCInKSArIFwiXFxcIlwiKSApO1xuICAgICQoJ2NvZGUnLCAkKCdwcmUuaXRlbXMnLCAkY29udGFpbmVyKSkuaHRtbChKU09OLnN0cmluZ2lmeSgkZWxlbWVudC50YWdzaW5wdXQoJ2l0ZW1zJykpKTtcbiAgfSkudHJpZ2dlcignY2hhbmdlJyk7XG5cblxuICAvLyBTd2VldCBhbGVydFxuICAkKFwiYnV0dG9uI2RlbGV0ZVwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKGUpe1xuXG4gICAgc3dhbCh7XG4gICAgICAgIHRpdGxlOiB3aW5kb3cuTGFyYXZlbC5hcmVfeW91X3N1cmVfbm90aWZpY2F0aW9uLFxuICAgICAgICB0ZXh0OiB3aW5kb3cuTGFyYXZlbC5jYW5ub3RfcmVzdG9yZV9ub3RpZmljYXRpb24sXG4gICAgICAgIHR5cGU6IFwid2FybmluZ1wiLFxuICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLFxuICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6IFwiI0RENkI1NVwiLFxuICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogd2luZG93LkxhcmF2ZWwueWVzX2RlbGV0ZSxcbiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogd2luZG93LkxhcmF2ZWwubm8sXG4gICAgICAgIGNsb3NlT25Db25maXJtOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIGZ1bmN0aW9uKCl7XG4gICAgICAgICQoZS50YXJnZXQpLnByZXYoJy5kZWxldGUtcHJvamVjdCcpLnN1Ym1pdCgpO1xuXG4gICAgICB9KTtcblxuICB9KTtcblxuXG4gICQoXCJidXR0b24jZGVsZXRlLXVzZXItYnV0dG9uXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oZSl7XG5cbiAgICBzd2FsKHtcbiAgICAgICAgdGl0bGU6IHdpbmRvdy5MYXJhdmVsLmFyZV95b3Vfc3VyZV9ub3RpZmljYXRpb24sXG4gICAgICAgIHR5cGU6IFwid2FybmluZ1wiLFxuICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLFxuICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6IFwiI0RENkI1NVwiLFxuICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogd2luZG93LkxhcmF2ZWwueWVzX2RlbGV0ZSxcbiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogd2luZG93LkxhcmF2ZWwubm8sXG4gICAgICAgIGNsb3NlT25Db25maXJtOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIGZ1bmN0aW9uKCl7XG4gICAgICAgICQoZS50YXJnZXQpLnByZXYoJy5kZWxldGUtdXNlcicpLnN1Ym1pdCgpO1xuXG4gICAgICB9KTtcblxuICB9KTtcblxuXG4gICQoXCJhI2dyb3Vwcy1maW5pc2gtYnV0dG9uXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oZSl7XG4gICAgaWYoISQoXCJhI2dyb3Vwcy1maW5pc2gtYnV0dG9uXCIpLmhhc0NsYXNzKCdub3QtZW1wdHknKSl7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgIHN3YWwoe1xuICAgICAgICB0aXRsZTogd2luZG93LkxhcmF2ZWwuZmluaXNoX3Byb2plY3Rfbm90aWZpY2F0aW9uLFxuICAgICAgICB0eXBlOiBcImluZm9cIixcbiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6IHdpbmRvdy5MYXJhdmVsLnllcyxcbiAgICAgICAgY2xvc2VPbkNvbmZpcm06IGZhbHNlXG4gICAgICB9KTtcbiAgICB9XG5cblxuICB9KTtcblxuICAvLyBTZWxlY3QyXG4gICQoXCIuanMtZXhhbXBsZS1iYXNpYy1tdWx0aXBsZVwiKS5zZWxlY3QyKCk7XG4gICQoXCIuY29fc3VwZXJ2aXNvclwiKS5zZWxlY3QyKCk7XG5cblxuXG4gIC8vIFNlbGVjdDIgQWpheCAtIGF0dGFjaGluZyB1c2VycyB0byBwcm9qZWN0IHRlYW0gbWFudWFsbHlcbiAgJChcIi5qcy11c2Vycy1kYXRhLWFqYXhcIikuc2VsZWN0Mih7XG4gICAgcGxhY2Vob2xkZXI6IHdpbmRvdy5MYXJhdmVsLm5hbWVfb3JfZW1haWxfcGxhY2Vob2xkZXIsXG4gICAgbGFuZ3VhZ2U6IHsgaW5wdXRUb29TaG9ydDogZnVuY3Rpb24gKCkgeyByZXR1cm4gd2luZG93LkxhcmF2ZWwudGhyZWVfb3JfbW9yZV9jaGFyOyB9IH0sXG4gICAgYWxsb3dDbGVhcjogdHJ1ZSxcbiAgICBhamF4OiB7XG4gICAgICB1cmw6IHdpbmRvdy5MYXJhdmVsLnNlYXJjaF91c2VyX2FwaV91cmwsXG4gICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgZGVsYXk6IDI1MCxcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgZGF0YTogZnVuY3Rpb24gKHBhcmFtcykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHE6IHBhcmFtcy50ZXJtLCAvLyBzZWFyY2ggdGVybVxuICAgICAgICAgIHByb2plY3RfaWQ6ICQoJy5qcy11c2Vycy1kYXRhLWFqYXgnKS5hdHRyKFwicHJvamVjdC1pZFwiKSxcbiAgICAgICAgICBwYWdlOiBwYXJhbXMucGFnZVxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIHByb2Nlc3NSZXN1bHRzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlc3VsdHM6ICQubWFwKGRhdGEsIGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICB0ZXh0OiAoaXRlbS5mdWxsX25hbWUgPyBpdGVtLmZ1bGxfbmFtZSA6IGl0ZW0ubmFtZSkgKyAnICgnKyhpdGVtLmNvbnRhY3RfZW1haWw/IGl0ZW0uY29udGFjdF9lbWFpbCA6IGl0ZW0uZW1haWwpKycpJyxcbiAgICAgICAgICAgICAgaWQ6IGl0ZW0uaWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIGNhY2hlOiBmYWxzZVxuICAgIH0sXG4gICAgZXNjYXBlTWFya3VwOiBmdW5jdGlvbiAobWFya3VwKSB7IHJldHVybiBtYXJrdXA7IH0sIC8vIGxldCBvdXIgY3VzdG9tIGZvcm1hdHRlciB3b3JrXG4gICAgbWluaW11bUlucHV0TGVuZ3RoOiAzXG4gIH0pO1xuXG4gIC8vU21vb3RoIHNjcm9sbCBmb3IgZnJvbnQgcGFnZVxuICAkKCdib2R5LmZyb250cGFnZSBhW2hyZWYqPVwiI1wiXTpub3QoW2hyZWY9XCIjXCJdKScpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgIGlmIChsb2NhdGlvbi5wYXRobmFtZS5yZXBsYWNlKC9eXFwvLywnJykgPT0gdGhpcy5wYXRobmFtZS5yZXBsYWNlKC9eXFwvLywnJykgJiYgbG9jYXRpb24uaG9zdG5hbWUgPT0gdGhpcy5ob3N0bmFtZSkge1xuICAgICAgdmFyIHRhcmdldCA9ICQodGhpcy5oYXNoKTtcbiAgICAgIHRhcmdldCA9IHRhcmdldC5sZW5ndGggPyB0YXJnZXQgOiAkKCdbbmFtZT0nICsgdGhpcy5oYXNoLnNsaWNlKDEpICsnXScpO1xuICAgICAgaWYgKHRhcmdldC5sZW5ndGgpIHtcbiAgICAgICAgJCgnaHRtbCwgYm9keScpLmFuaW1hdGUoe1xuICAgICAgICAgIHNjcm9sbFRvcDogdGFyZ2V0Lm9mZnNldCgpLnRvcFxuICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cblxuXG4gIC8vR28gZnJvbSBmcm9udCBwYWdlIHRvIGNlcnRhaW4gdGFiIGluIEZBUSBwYWdlXG4gIHZhciBoYXNoID0gd2luZG93LmxvY2F0aW9uLmhhc2g7XG4gIGlmKGhhc2guc3RhcnRzV2l0aCgnI2l0ZW0nKSl7XG4gICAgaGFzaCAmJiAkKCd1bC5uYXYgYVtocmVmPVwiJyArIGhhc2ggKyAnXCJdJykudGFiKCdzaG93Jyk7XG4gIH1cblxuICAvL1NlYXJjaCBmb3JtXG4gICQoJy5zZWFyY2gtcGFuZWwgLm5hdmJhci1uYXYnKS5maW5kKCdhJykuY2xpY2soZnVuY3Rpb24oZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgcGFyYW0gPSAkKHRoaXMpLmF0dHIoXCJocmVmXCIpLnJlcGxhY2UoXCIjXCIsXCJcIik7XG4gICAgdmFyIGNvbmNlcHQgPSAkKHRoaXMpLnRleHQoKTtcbiAgICAkKCcuc2VhcmNoLXBhbmVsIHNwYW4jc2VhcmNoX2NvbmNlcHQnKS50ZXh0KGNvbmNlcHQpO1xuICAgICQoJy5mb3JtLWdyb3VwICNzZWFyY2hfcGFyYW0nKS52YWwocGFyYW0pO1xuICB9KTtcblxuICB2YXIgc2VsZWN0b3IgPSAnLnNlYXJjaC1wYW5lbCAubmF2YmFyLW5hdiBsaSc7XG5cbiAgJChzZWxlY3Rvcikub24oJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAkKHNlbGVjdG9yKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gIH0pO1xuXG5cblxuICAvL1BhbmVsIHVzZWQgaW4gc2VhcmNoIHZpZXcgdG8gc2hvdyBhIGxpc3Qgb2YgbWVtYmVyIGVtYWlsc1xuICAkKCcucGFuZWwtaGVhZGluZyBzcGFuLmNsaWNrYWJsZScpLnBhcmVudHMoJy5wYW5lbCcpLmZpbmQoJy5wYW5lbC1ib2R5Jykuc2xpZGVVcCgpO1xuXG4gICQoJy5wYW5lbC1oZWFkaW5nIHNwYW4uY2xpY2thYmxlJykub24oXCJjbGlja1wiLCBmdW5jdGlvbihlKXtcbiAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xuICAgIGlmKCEkdGhpcy5oYXNDbGFzcygncGFuZWwtY29sbGFwc2VkJykpIHtcbiAgICAgICR0aGlzLnBhcmVudHMoJy5wYW5lbCcpLmZpbmQoJy5wYW5lbC1ib2R5Jykuc2xpZGVVcCgpO1xuICAgICAgJHRoaXMuYWRkQ2xhc3MoJ3BhbmVsLWNvbGxhcHNlZCcpO1xuICAgICAgJHRoaXMuZmluZCgnaScpLnJlbW92ZUNsYXNzKCdnbHlwaGljb24tY2hldnJvbi11cCcpLmFkZENsYXNzKCdnbHlwaGljb24tY2hldnJvbi1kb3duJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICR0aGlzLnBhcmVudHMoJy5wYW5lbCcpLmZpbmQoJy5wYW5lbC1ib2R5Jykuc2xpZGVEb3duKCk7XG4gICAgICAkdGhpcy5yZW1vdmVDbGFzcygncGFuZWwtY29sbGFwc2VkJyk7XG4gICAgICAkdGhpcy5maW5kKCdpJykucmVtb3ZlQ2xhc3MoJ2dseXBoaWNvbi1jaGV2cm9uLWRvd24nKS5hZGRDbGFzcygnZ2x5cGhpY29uLWNoZXZyb24tdXAnKTtcbiAgICB9XG4gIH0pO1xuXG5cbiAgLy9GYWNlYm9vayBzaGFyaW5nIGJ1dHRvbiBoYW5kbGVyLCBGYWNlYm9vayBTREsgZm9yIEphdmFTY3JpcHRcbiAgZnVuY3Rpb24gcG9zdFRvRmVlZCh1cmwpe1xuICAgIHZhciBvYmogPSB7bWV0aG9kOiAnZmVlZCcsbGluazogdXJsfTtcbiAgICBmdW5jdGlvbiBjYWxsYmFjayhyZXNwb25zZSl7fVxuICAgIEZCLnVpKG9iaiwgY2FsbGJhY2spO1xuICB9XG5cbiAgJCgnLmJ0blNoYXJlJykuY2xpY2soZnVuY3Rpb24oKXtcbiAgICBlbGVtID0gJCh0aGlzKTtcbiAgICBwb3N0VG9GZWVkKGVsZW0ucHJvcCgnaHJlZicpKTtcblxuICAgIHJldHVybiBmYWxzZTtcbiAgfSk7XG5cblxuICAvLyBQb3B1bGF0aW5nIGZpZWxkcyBhZnRlciBhIGZhaWxlZCBzdWJtaXQvcmVmcmVzaFxuICB0cnkge1xuICAgIHZhciBjb3N1cGVydmlzb3JzID0gSlNPTi5wYXJzZSgkKCcjY29fc3VwZXJ2aXNvcnMnKS52YWwoKSk7XG4gICAgJCgkKCcjY29fc3VwZXJ2aXNvcl9kaXYnKS5jaGlsZHJlbigpWzBdKS52YWwoY29zdXBlcnZpc29yc1swXSk7ICBcbiAgICBmb3IgKHZhciBpPTE7aTxjb3N1cGVydmlzb3JzLmxlbmd0aDtpKyspIHtcbiAgICAgICQoJyNjb19zdXBlcnZpc29yX2RpdicpLmFwcGVuZChnZXRDb3N1cGVydmlzb3JGaWVsZFRvQWRkKGNvc3VwZXJ2aXNvcnNbaV0pKTtcbiAgICAgICQoJCgnLmNvX3N1cGVydmlzb3InKVskKCcuY29fc3VwZXJ2aXNvcicpLmxlbmd0aC0xXSkuc2VsZWN0MigpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS5sb2coJ05vIHByZXZpb3VzIHZhbHVlcyBmb3IgY29zdXBlcnZpc29yczogJytlcnIpO1xuICB9XG4gIFxuICB0cnkge1xuICAgIHZhciBtZWV0aW5nc19ldCA9IEpTT04ucGFyc2UoJCgnI21lZXRpbmdzX2V0JykudmFsKCkpO1xuICAgICQoJCgkKCQoJCgnI2ZpcnN0X21lZXRpbmdfZXQnKS5jaGlsZHJlbigpWyQoJyNmaXJzdF9tZWV0aW5nX2V0JykuY2hpbGRyZW4oKS5sZW5ndGgtMV0pLmNoaWxkcmVuKClbMF0pLmNoaWxkcmVuKClbMV0pLmNoaWxkcmVuKClbMF0pLnZhbChtZWV0aW5nc19ldFswXVswXSk7XG4gICAgJCgkKCQoJCgkKCQoJyNmaXJzdF9tZWV0aW5nX2V0JykuY2hpbGRyZW4oKVskKCcjZmlyc3RfbWVldGluZ19ldCcpLmNoaWxkcmVuKCkubGVuZ3RoLTFdKS5jaGlsZHJlbigpWzFdKS5jaGlsZHJlbigpWzBdKVswXSlbMF0pLnZhbChtZWV0aW5nc19ldFswXVsxXSk7XG4gICAgZm9yICh2YXIgaT0xO2k8bWVldGluZ3NfZXQubGVuZ3RoO2krKykge1xuICAgICAgJCgnI290aGVyX21lZXRpbmdzX2V0JykuYXBwZW5kKGdldE1lZXRpbmdGaWVsZFRvQWRkKCdldCcpKTtcbiAgICAgICQoJCgkKCQoJCgnI290aGVyX21lZXRpbmdzX2V0JykuY2hpbGRyZW4oKVskKCcjb3RoZXJfbWVldGluZ3NfZXQnKS5jaGlsZHJlbigpLmxlbmd0aC0xXSkuY2hpbGRyZW4oKVswXSkuY2hpbGRyZW4oKVsxXSkuY2hpbGRyZW4oKVswXSkudmFsKG1lZXRpbmdzX2V0W2ldWzBdKTtcbiAgICAgICQoJCgkKCQoJCgkKCcjb3RoZXJfbWVldGluZ3NfZXQnKS5jaGlsZHJlbigpWyQoJyNvdGhlcl9tZWV0aW5nc19ldCcpLmNoaWxkcmVuKCkubGVuZ3RoLTFdKS5jaGlsZHJlbigpWzFdKS5jaGlsZHJlbigpWzBdKVswXSlbMF0pLnZhbChtZWV0aW5nc19ldFtpXVsxXSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBjb25zb2xlLmxvZygnTm8gcHJldmlvdXMgdmFsdWVzIGZvciBtZWV0aW5nc19ldDogJytlcnIpO1xuICB9XG5cbiAgdHJ5IHtcbiAgICB2YXIgbWVldGluZ3NfZW4gPSBKU09OLnBhcnNlKCQoJyNtZWV0aW5nc19lbicpLnZhbCgpKTtcbiAgICAkKCQoJCgkKCQoJyNmaXJzdF9tZWV0aW5nX2VuJykuY2hpbGRyZW4oKVskKCcjZmlyc3RfbWVldGluZ19lbicpLmNoaWxkcmVuKCkubGVuZ3RoLTFdKS5jaGlsZHJlbigpWzBdKS5jaGlsZHJlbigpWzFdKS5jaGlsZHJlbigpWzBdKS52YWwobWVldGluZ3NfZW5bMF1bMF0pO1xuICAgICQoJCgkKCQoJCgkKCcjZmlyc3RfbWVldGluZ19lbicpLmNoaWxkcmVuKClbJCgnI2ZpcnN0X21lZXRpbmdfZW4nKS5jaGlsZHJlbigpLmxlbmd0aC0xXSkuY2hpbGRyZW4oKVsxXSkuY2hpbGRyZW4oKVswXSlbMF0pWzBdKS52YWwobWVldGluZ3NfZW5bMF1bMV0pO1xuICAgIGZvciAodmFyIGk9MTtpPG1lZXRpbmdzX2VuLmxlbmd0aDtpKyspIHtcbiAgICAgICQoJyNvdGhlcl9tZWV0aW5nc19lbicpLmFwcGVuZChnZXRNZWV0aW5nRmllbGRUb0FkZCgnZW4nKSk7XG4gICAgICAkKCQoJCgkKCQoJyNvdGhlcl9tZWV0aW5nc19lbicpLmNoaWxkcmVuKClbJCgnI290aGVyX21lZXRpbmdzX2VuJykuY2hpbGRyZW4oKS5sZW5ndGgtMV0pLmNoaWxkcmVuKClbMF0pLmNoaWxkcmVuKClbMV0pLmNoaWxkcmVuKClbMF0pLnZhbChtZWV0aW5nc19lbltpXVswXSk7XG4gICAgICAkKCQoJCgkKCQoJCgnI290aGVyX21lZXRpbmdzX2VuJykuY2hpbGRyZW4oKVskKCcjb3RoZXJfbWVldGluZ3NfZW4nKS5jaGlsZHJlbigpLmxlbmd0aC0xXSkuY2hpbGRyZW4oKVsxXSkuY2hpbGRyZW4oKVswXSlbMF0pWzBdKS52YWwobWVldGluZ3NfZW5baV1bMV0pO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS5sb2coJ05vIHByZXZpb3VzIHZhbHVlcyBmb3IgbWVldGluZ3NfZW46ICcrZXJyKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgdmFyIHRhZ3NfZXQgPSBKU09OLnBhcnNlKCQoJyNrZXl3b3Jkc19ldCcpLnZhbCgpKTtcbiAgICBmb3IgKHZhciBpPTA7aTx0YWdzX2V0Lmxlbmd0aDtpKyspIHtcbiAgICAgICQoJy50YWdzX2V0JykudmFsKHRhZ3NfZXRbaV0pO1xuICAgICAgYWRkVGFnKCdldCcpO1xuICAgIH1cbiAgICAkKCcudGFnc19ldCcpLnZhbCgnJyk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGNvbnNvbGUubG9nKCdObyBwcmV2aW91cyB2YWx1ZXMgZm9yIHRhZ3NfZXQ6ICcrZXJyKTtcbiAgfVxuICBcbiAgdHJ5IHtcbiAgICB2YXIgdGFnc19lbiA9IEpTT04ucGFyc2UoJCgnI2tleXdvcmRzX2VuJykudmFsKCkpO1xuICAgIGZvciAodmFyIGk9MDtpPHRhZ3NfZW4ubGVuZ3RoO2krKykge1xuICAgICAgJCgnLnRhZ3NfZW4nKS52YWwodGFnc19lbltpXSk7XG4gICAgICBhZGRUYWcoJ2VuJyk7XG4gICAgfVxuICAgICQoJy50YWdzX2VuJykudmFsKCcnKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS5sb2coJ05vIHByZXZpb3VzIHZhbHVlcyBmb3IgdGFnc19lbjogJytlcnIpO1xuICB9XG5cblxuICAvLyBGb3JtL1Byb2plY3QgbGFuZ3VhZ2Ugc2VsZWN0aW9uXG4gICQoJyNwcm9qZWN0X2luX2VuZ2xpc2gnKS5jaGlsZHJlbignaW5wdXQnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgJCgnLmZvcm1fZW5nbGlzaCcpLnRvZ2dsZUNsYXNzKFwiZGlzYWJsZWRGb3JtXCIpO1xuICAgIGlmICgkKCcuZm9ybV9lbmdsaXNoJykuaGFzQ2xhc3MoJ2Rpc2FibGVkRm9ybScpKSB7XG4gICAgICAkKCcuZm9ybV9lbmdsaXNoJykuZmluZCgnaW5wdXQnKS5hdHRyKCdkaXNhYmxlZCcsICd0cnVlJyk7XG4gICAgICAkKCcuZm9ybV9lbmdsaXNoJykuZmluZCgndGV4dGFyZWEnKS5hdHRyKCdkaXNhYmxlZCcsICd0cnVlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICQoJy5mb3JtX2VuZ2xpc2gnKS5maW5kKCdpbnB1dCcpLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7XG4gICAgICAkKCcuZm9ybV9lbmdsaXNoJykuZmluZCgndGV4dGFyZWEnKS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xuICAgIH1cbiAgfSk7XG4gICQoJyNwcm9qZWN0X2luX2VzdG9uaWFuJykuY2hpbGRyZW4oJ2lucHV0Jykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICQoJy5mb3JtX2VzdG9uaWFuJykudG9nZ2xlQ2xhc3MoXCJkaXNhYmxlZEZvcm1cIik7XG4gICAgaWYgKCQoJy5mb3JtX2VzdG9uaWFuJykuaGFzQ2xhc3MoJ2Rpc2FibGVkRm9ybScpKSB7XG4gICAgICAkKCcuZm9ybV9lc3RvbmlhbicpLmZpbmQoJ2lucHV0JykuYXR0cignZGlzYWJsZWQnLCAndHJ1ZScpO1xuICAgICAgJCgnLmZvcm1fZXN0b25pYW4nKS5maW5kKCd0ZXh0YXJlYScpLmF0dHIoJ2Rpc2FibGVkJywgJ3RydWUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJCgnLmZvcm1fZXN0b25pYW4nKS5maW5kKCdpbnB1dCcpLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7XG4gICAgICAkKCcuZm9ybV9lc3RvbmlhbicpLmZpbmQoJ3RleHRhcmVhJykucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgICB9XG4gIH0pO1xuXG4gICQoJyNzdWJtaXRfcHJvamVjdCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgLy8gVG8gc3RvcCB0aW55TUNFIGlucHV0cyBiZSBhY2NlcHRlZCB3aXRoIGp1c3Qgc3BhY2VzXG4gICAgLypcbiAgICB0aW55TUNFLmdldCgnZGVzY3JpcHRpb25fZXQnKS5zZXRDb250ZW50KHJlbW92ZUV4Y2Vzc1doaXRlc3BhY2VGcm9tU3RyaW5nKHRpbnlNQ0UuZ2V0KCdkZXNjcmlwdGlvbl9ldCcpLmdldENvbnRlbnQoKS5zcGxpdCgnJm5ic3A7Jykuam9pbignICcpKSk7XG4gICAgdGlueU1DRS5nZXQoJ2Rlc2NyaXB0aW9uX2VuJykuc2V0Q29udGVudChyZW1vdmVFeGNlc3NXaGl0ZXNwYWNlRnJvbVN0cmluZyh0aW55TUNFLmdldCgnZGVzY3JpcHRpb25fZW4nKS5nZXRDb250ZW50KCkuc3BsaXQoJyZuYnNwOycpLmpvaW4oJyAnKSkpO1xuICAgIHRpbnlNQ0UuZ2V0KCdwcm9qZWN0X291dGNvbWVzX2V0Jykuc2V0Q29udGVudChyZW1vdmVFeGNlc3NXaGl0ZXNwYWNlRnJvbVN0cmluZyh0aW55TUNFLmdldCgncHJvamVjdF9vdXRjb21lc19ldCcpLmdldENvbnRlbnQoKS5zcGxpdCgnJm5ic3A7Jykuam9pbignICcpKSk7XG4gICAgdGlueU1DRS5nZXQoJ3Byb2plY3Rfb3V0Y29tZXNfZW4nKS5zZXRDb250ZW50KHJlbW92ZUV4Y2Vzc1doaXRlc3BhY2VGcm9tU3RyaW5nKHRpbnlNQ0UuZ2V0KCdwcm9qZWN0X291dGNvbWVzX2VuJykuZ2V0Q29udGVudCgpLnNwbGl0KCcmbmJzcDsnKS5qb2luKCcgJykpKTtcbiAgICB0aW55TUNFLmdldCgnaW50ZXJkaXNjaXBsaW5hcnlfYXBwcm9hY2hfZXQnKS5zZXRDb250ZW50KHJlbW92ZUV4Y2Vzc1doaXRlc3BhY2VGcm9tU3RyaW5nKHRpbnlNQ0UuZ2V0KCdpbnRlcmRpc2NpcGxpbmFyeV9hcHByb2FjaF9ldCcpLmdldENvbnRlbnQoKS5zcGxpdCgnJm5ic3A7Jykuam9pbignICcpKSk7XG4gICAgdGlueU1DRS5nZXQoJ2ludGVyZGlzY2lwbGluYXJ5X2FwcHJvYWNoX2VuJykuc2V0Q29udGVudChyZW1vdmVFeGNlc3NXaGl0ZXNwYWNlRnJvbVN0cmluZyh0aW55TUNFLmdldCgnaW50ZXJkaXNjaXBsaW5hcnlfYXBwcm9hY2hfZW4nKS5nZXRDb250ZW50KCkuc3BsaXQoJyZuYnNwOycpLmpvaW4oJyAnKSkpO1xuICAgIHRpbnlNQ0UudHJpZ2dlclNhdmUoKTtcbiAgICAqL1xuXG4gICAgLy8gQWRkaW5nIHRhZ3MgZnJvbSBkaXYgdG8gYW4gaW5wdXQgZmllbGQsIHRvIHNlbmQgdGhlIGRhdGFcbiAgICB2YXIgdGFnc19lc3RvbmlhbiA9IFtdO1xuICAgIGZvciAodmFyIGk9MDtpPCQoJyN0YWdzX2V0X291dHB1dCcpLmNoaWxkcmVuKCkubGVuZ3RoO2krKykge1xuICAgICAgdGFnc19lc3Rvbmlhbi5wdXNoKCQoJyN0YWdzX2V0X291dHB1dCcpLmNoaWxkcmVuKClbaV0uaW5uZXJIVE1MLnNwbGl0KCc8JylbMF0pO1xuICAgIH1cbiAgICBpZiAodGFnc19lc3Rvbmlhbi5sZW5ndGggIT0gMCkge1xuICAgICAgJCgnI2tleXdvcmRzX2V0JykudmFsKEpTT04uc3RyaW5naWZ5KHRhZ3NfZXN0b25pYW4pKTtcbiAgICB9XG5cbiAgICB2YXIgdGFnc19lbmdsaXNoID0gW107XG4gICAgZm9yICh2YXIgaT0wO2k8JCgnI3RhZ3NfZW5fb3V0cHV0JykuY2hpbGRyZW4oKS5sZW5ndGg7aSsrKSB7XG4gICAgICB0YWdzX2VuZ2xpc2gucHVzaCgkKCcjdGFnc19lbl9vdXRwdXQnKS5jaGlsZHJlbigpW2ldLmlubmVySFRNTC5zcGxpdCgnPCcpWzBdKTtcbiAgICB9XG4gICAgaWYgKHRhZ3NfZW5nbGlzaC5sZW5ndGggIT0gMCkge1xuICAgICAgJCgnI2tleXdvcmRzX2VuJykudmFsKEpTT04uc3RyaW5naWZ5KHRhZ3NfZW5nbGlzaCkpO1xuICAgIH1cbiAgICBcbiAgICAvLyBBZGRpbmcgbWVldGluZyBkYXRlcyBmcm9tIGRpZmZlcmVudCBmaWVsZHMgdG8gb25lLCB0byBzZW5kIGFsbCBkYXRhIHdpdGggb25lIHBhcmFtZXRlclxuICAgIHZhciBtZWV0aW5nc19ldCA9IFtdO1xuICAgIHZhciBtZWV0aW5nc19lbiA9IFtdO1xuICAgIGZvciAodmFyIGk9MDtpPCQoJy5tZWV0aW5nX2RhdGVfZXQnKS5sZW5ndGg7aSsrKVxuICAgIHtcbiAgICAgIHZhciBtZWV0aW5nID0gW11cbiAgICAgIG1lZXRpbmcucHVzaCgkKCQoJy5tZWV0aW5nX2RhdGVfZXQnKVtpXSkudmFsKCkpO1xuICAgICAgbWVldGluZy5wdXNoKCQoJCgnLm1lZXRpbmdfaW5mb19ldCcpW2ldKS52YWwoKSk7XG4gICAgICBtZWV0aW5nc19ldC5wdXNoKG1lZXRpbmcpO1xuICAgIH1cbiAgICBmb3IgKHZhciBpPTA7aTwkKCcubWVldGluZ19kYXRlX2VuJykubGVuZ3RoO2krKylcbiAgICB7XG4gICAgICB2YXIgbWVldGluZyA9IFtdXG4gICAgICBtZWV0aW5nLnB1c2goJCgkKCcubWVldGluZ19kYXRlX2VuJylbaV0pLnZhbCgpKTtcbiAgICAgIG1lZXRpbmcucHVzaCgkKCQoJy5tZWV0aW5nX2luZm9fZW4nKVtpXSkudmFsKCkpO1xuICAgICAgbWVldGluZ3NfZW4ucHVzaChtZWV0aW5nKTtcbiAgICB9XG4gICAgaWYgKG1lZXRpbmdzX2V0WzBdWzBdICE9ICcnKSB7XG4gICAgICAkKCcjbWVldGluZ3NfZXQnKS52YWwoSlNPTi5zdHJpbmdpZnkobWVldGluZ3NfZXQpKTtcbiAgICB9XG4gICAgaWYgKG1lZXRpbmdzX2VuWzBdWzBdICE9ICcnKSB7XG4gICAgICAkKCcjbWVldGluZ3NfZW4nKS52YWwoSlNPTi5zdHJpbmdpZnkobWVldGluZ3NfZW4pKTtcbiAgICB9XG5cbiAgICAvLyBBZGRpbmcgY29zdXBlcnZpc29ycyBmcm9tIGRpZmZlcmVudCBmaWVsZHMgdG8gb25lLCB0byBzZW5kIGFsbCBkYXRhIHdpdGggb25lIHBhcmFtZXRlclxuICAgIHZhciBjb19zdXBlcnZpc29ycyA9IFtdXG4gICAgZm9yICh2YXIgaT0wO2k8JCgnLmNvX3N1cGVydmlzb3InKS5sZW5ndGg7aSsrKVxuICAgIHtcbiAgICAgIGNvX3N1cGVydmlzb3JzLnB1c2goJCgkKCcuY29fc3VwZXJ2aXNvcicpW2ldKS52YWwoKSk7XG4gICAgfVxuICAgICQoJyNjb19zdXBlcnZpc29ycycpLnZhbChKU09OLnN0cmluZ2lmeShjb19zdXBlcnZpc29ycykpO1xuICAgIFxuICAgICQoJyNoaWRkZW5fcHJvamVjdF9mb3JtX3N1Ym1pdCcpLnRyaWdnZXIoJ2NsaWNrJyk7XG4gIH0pO1xuXG4gICQoJy5zdHVkeV90ZXJtX2J1dHRvbicpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAkKCcuc3R1ZHlfdGVybV9idXR0b24nKS5yZW1vdmVDbGFzcygnYnRuLWluZm8nKTtcbiAgICAkKCcuc3R1ZHlfdGVybV9idXR0b24nKS5yZW1vdmVDbGFzcygnYnRuLWRlZmF1bHQnKTtcbiAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdidG4tZGVmYXVsdCcpO1xuICAgICQodGhpcykuYWRkQ2xhc3MoJ2J0bi1pbmZvJyk7XG4gICAgJCgnIycrJCh0aGlzKS5hdHRyKCdpZCcpKydfcmFkaW8nKS5wcm9wKCdjaGVja2VkJywgdHJ1ZSk7XG4gIH0pO1xuXG4gIC8vIExlYXJuaW5nIG91dGNvbWVzIHNob3cvaGlkZVxuICAkKCcjb3Blbl9sZWFybmluZ19vdXRjb21lcycpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAkKCcjbGVhcm5pbmdfb3V0Y29tZXMnKS50b2dnbGUoMTAwKTtcbiAgICAkKCcjb3Blbl9sZWFybmluZ19vdXRjb21lcycpLnRvZ2dsZSgxKTtcbiAgICAkKCcjY2xvc2VfbGVhcm5pbmdfb3V0Y29tZXMnKS50b2dnbGUoMSk7XG4gIH0pO1xuXG4gICQoJyNjbG9zZV9sZWFybmluZ19vdXRjb21lcycpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAkKCcjbGVhcm5pbmdfb3V0Y29tZXMnKS50b2dnbGUoMTAwKTtcbiAgICAkKCcjY2xvc2VfbGVhcm5pbmdfb3V0Y29tZXMnKS50b2dnbGUoMSk7XG4gICAgJCgnI29wZW5fbGVhcm5pbmdfb3V0Y29tZXMnKS50b2dnbGUoMSk7XG4gIH0pO1xuXG5cbiAgLy8gVHlwZWFoZWFkIHN0eWxpbmdcbiAgJCgnYm9keScpLm9uKFwibW91c2VvdmVyXCIsIFwiLnR0LXN1Z2dlc3Rpb25cIiwgZnVuY3Rpb24gKCkge1xuICAgICQoJy50dC1zdWdnZXN0aW9uJykucmVtb3ZlQ2xhc3MoJ3R0LWN1cnNvcicpO1xuICAgICQodGhpcykuYWRkQ2xhc3MoJ3R0LWN1cnNvcicpO1xuICB9KTtcblxuICAvLyBBZGRpbmcgVHlwZWFoZWFkIHRvIHRhZ3MgaW5wdXQgaW4gbmV3IHByb2plY3QgZm9ybVxuICAkLmFqYXgoe1xuICAgIHVybDogd2luZG93LkxhcmF2ZWwuYmFzZV9wYXRoKycvYWxsX3RhZ3MnXG4gIH0pLmRvbmUoZnVuY3Rpb24gKHRhZ3MpIHtcbiAgICB2YXIgbGlzdF9vZl90YWdzX2V0ID0gbmV3IEJsb29kaG91bmQoe1xuICAgICAgbG9jYWw6IHRhZ3NbJ2V0J10sXG4gICAgICBxdWVyeVRva2VuaXplcjogQmxvb2Rob3VuZC50b2tlbml6ZXJzLndoaXRlc3BhY2UsXG4gICAgICBkYXR1bVRva2VuaXplcjogQmxvb2Rob3VuZC50b2tlbml6ZXJzLndoaXRlc3BhY2VcbiAgICB9KTtcbiAgICB2YXIgbGlzdF9vZl90YWdzX2VuID0gbmV3IEJsb29kaG91bmQoe1xuICAgICAgbG9jYWw6IHRhZ3NbJ2VuJ10sXG4gICAgICBxdWVyeVRva2VuaXplcjogQmxvb2Rob3VuZC50b2tlbml6ZXJzLndoaXRlc3BhY2UsXG4gICAgICBkYXR1bVRva2VuaXplcjogQmxvb2Rob3VuZC50b2tlbml6ZXJzLndoaXRlc3BhY2VcbiAgICB9KTtcbiAgICAkKCdpbnB1dC50YWdzX2V0Jykub24oJ2tleXByZXNzJywgZnVuY3Rpb24gKGV2ZW50KSB7aWYgKGV2ZW50LmtleUNvZGUgPT0gMTMgfHwgZXZlbnQud2hpY2ggPT0gMTMpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBhZGRUYWcoJ2V0Jyk7XG4gICAgICAkKHRoaXMpLnZhbCgnJyk7XG4gICAgfX0pO1xuICAgICQoJ2lucHV0LnRhZ3NfZW4nKS5vbigna2V5cHJlc3MnLCBmdW5jdGlvbiAoZXZlbnQpIHtpZiAoZXZlbnQua2V5Q29kZSA9PSAxMyB8fCBldmVudC53aGljaCA9PSAxMykge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGFkZFRhZygnZW4nKTtcbiAgICAgICQodGhpcykudmFsKCcnKTtcbiAgICB9fSk7XG4gICAgJCgnaW5wdXRbbmFtZT10YWdzX2V0XScpLnR5cGVhaGVhZCh7aGludDpmYWxzZSxtaW5MZW5ndGg6MSxoaWdobGlnaHQ6dHJ1ZX0se25hbWU6J3RhZ3NfZXQnLHNvdXJjZTpsaXN0X29mX3RhZ3NfZXR9KTtcbiAgICAkKCdpbnB1dFtuYW1lPXRhZ3NfZW5dJykudHlwZWFoZWFkKHtoaW50OmZhbHNlLG1pbkxlbmd0aDoxLGhpZ2hsaWdodDp0cnVlfSx7bmFtZTondGFnc19lbicsc291cmNlOmxpc3Rfb2ZfdGFnc19lbn0pO1xuICB9KTtcblxuICAvLyBBZGRpbmcgZGF0ZXBpY2tlciB0byBpbml0aWFsIGRhdGUgaW5wdXRzIGluIG5ldyBwcm9qZWN0IGZvcm1cbiAgJCgnLmdseXBoaWNvbi1jYWxlbmRhcicpLnBhcmVudCgpLnNpYmxpbmdzKCkuY2hpbGRyZW4oJ2lucHV0JykucGlja2FkYXRlKHtmb3JtYXQ6ICdkZC9tbS95eXl5J30pO1xuICAkKCcuZ2x5cGhpY29uLWNhbGVuZGFyJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgJCgkKHRoaXMpLnBhcmVudCgpLnNpYmxpbmdzKCkuY2hpbGRyZW4oJ2lucHV0JylbMF0pLnBpY2thZGF0ZSgnb3BlbicpO1xuICB9KTtcblxuICBmdW5jdGlvbiBhZGRUYWcgKGxhbmd1YWdlKSB7XG4gICAgbmV3VGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgIG5ld1RhZy5jbGFzc05hbWUgPSAndGFnX291dHB1dCc7XG4gICAgbmV3VGFnLmlubmVySFRNTCA9ICQoJ2lucHV0LnRhZ3NfJytsYW5ndWFnZSsnJykudmFsKCkgKyAnPHNwYW4gY2xhc3M9XFwnZ2x5cGhpY29uIGdseXBoaWNvbi1yZW1vdmVcXCc+PC9zcGFuPic7XG4gICAgJChuZXdUYWcpLmNoaWxkcmVuKCdzcGFuLmdseXBoaWNvbi1yZW1vdmUnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAkKHRoaXMpLnBhcmVudCgpLnJlbW92ZSgpO1xuICAgIH0pO1xuICAgICQoJyN0YWdzXycrbGFuZ3VhZ2UrJ19vdXRwdXQnKS5hcHBlbmQobmV3VGFnKTtcbiAgfVxuICBcblxuICAkKCcjYWRkX21lZXRpbmdfZXQnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7JCgnI290aGVyX21lZXRpbmdzX2V0JykuYXBwZW5kKGdldE1lZXRpbmdGaWVsZFRvQWRkKCdldCcpKTt9KTtcbiAgJCgnI2FkZF9tZWV0aW5nX2VuJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkgeyQoJyNvdGhlcl9tZWV0aW5nc19lbicpLmFwcGVuZChnZXRNZWV0aW5nRmllbGRUb0FkZCgnZW4nKSk7fSk7XG4gICQoJyNyZW1vdmVfbWVldGluZ19ldCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHskKCcjb3RoZXJfbWVldGluZ3NfZXQnKS5jaGlsZHJlbignOmxhc3QtY2hpbGQnKS5yZW1vdmUoKTt9KTtcbiAgJCgnI3JlbW92ZV9tZWV0aW5nX2VuJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkgeyQoJyNvdGhlcl9tZWV0aW5nc19lbicpLmNoaWxkcmVuKCc6bGFzdC1jaGlsZCcpLnJlbW92ZSgpO30pO1xuICAkKCcjYWRkX2Nvc3VwZXJ2aXNvcicpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAkKHRoaXMpLnBhcmVudCgpLnByZXYoJyNjb19zdXBlcnZpc29yX2RpdicpLmFwcGVuZChnZXRDb3N1cGVydmlzb3JGaWVsZFRvQWRkKG51bGwpKTtcbiAgICAkKCQoJy5jb19zdXBlcnZpc29yJylbJCgnLmNvX3N1cGVydmlzb3InKS5sZW5ndGgtMV0pLnNlbGVjdDIoKTtcbiAgfSk7XG4gICQoJyNyZW1vdmVfY29zdXBlcnZpc29yJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICQodGhpcykucGFyZW50KCkucHJldignI2NvX3N1cGVydmlzb3JfZGl2JykuY2hpbGRyZW4oJzpsYXN0LWNoaWxkJykucmVtb3ZlKCk7XG4gICAgJCh0aGlzKS5wYXJlbnQoKS5wcmV2KCcjY29fc3VwZXJ2aXNvcl9kaXYnKS5jaGlsZHJlbignOmxhc3QtY2hpbGQnKS5yZW1vdmUoKTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gZ2V0Q29zdXBlcnZpc29yRmllbGRUb0FkZCAoc2VsZWN0ZWQpIHtcbiAgICBuZXdDb3N1cGVydmlzb3JTZWxlY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWxlY3QnKTtcbiAgICBuZXdDb3N1cGVydmlzb3JTZWxlY3QuY2xhc3NOYW1lID1cImZvcm0tY29udHJvbCBjb19zdXBlcnZpc29yXCI7XG4gICAgJC5hamF4ICh7XG4gICAgICB1cmw6IHdpbmRvdy5MYXJhdmVsLmJhc2VfcGF0aCsnL2FwaS90ZWFjaGVycy9nZXQnLFxuICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgIH0pLmRvbmUgKGZ1bmN0aW9uICh0ZWFjaGVycykge1xuICAgICAgZm9yICh2YXIgaT0wO2k8dGVhY2hlcnMubGVuZ3RoO2krKykge1xuICAgICAgICBjb3N1cGVydmlzb3JPcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgY29zdXBlcnZpc29yT3B0aW9uLnZhbHVlID0gdGVhY2hlcnNbaV0uaWQ7XG4gICAgICAgIGlmIChzZWxlY3RlZCAhPSBudWxsICYmIHRlYWNoZXJzW2ldLmlkID09IHNlbGVjdGVkKSB7XG4gICAgICAgICAgY29zdXBlcnZpc29yT3B0aW9uLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBjb3N1cGVydmlzb3JPcHRpb24uaW5uZXJIVE1MID0gdGVhY2hlcnNbaV0uZnVsbF9uYW1lO1xuICAgICAgICBuZXdDb3N1cGVydmlzb3JTZWxlY3QuYXBwZW5kKGNvc3VwZXJ2aXNvck9wdGlvbik7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIG5ld0Nvc3VwZXJ2aXNvclNlbGVjdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldE1lZXRpbmdGaWVsZFRvQWRkIChsYW5ndWFnZSkge1xuICAgIG91dGVyRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgb3V0ZXJEaXYuY2xhc3NOYW1lID0gJ3Jvdyc7XG4gICAgaWNvbkRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGljb25EaXYuY2xhc3NOYW1lID0gJ2NvbC1sZy00JztcbiAgICBpY29uQ2FsZW5kYXJEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBpY29uQ2FsZW5kYXJEaXYuY2xhc3NOYW1lID0gJ2NvbC1sZy0xMic7XG4gICAgaWNvbkNhbGVuZGFyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgIGljb25DYWxlbmRhci5jbGFzc05hbWUgPSAnZ2x5cGhpY29uIGdseXBoaWNvbi1jYWxlbmRhcic7XG4gICAgaWNvbkNhbGVuZGFyLnN0eWxlID0gJ2ZvbnQtc2l6ZTo3NXB4Oyc7XG4gICAgaWNvblN1YkNhbGVuZGFySW5wdXREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBpY29uU3ViQ2FsZW5kYXJJbnB1dERpdi5jbGFzc05hbWUgPSAnY29sLWxnLTEyJztcbiAgICBpY29uU3ViQ2FsZW5kYXJJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgaWNvblN1YkNhbGVuZGFySW5wdXQuY2xhc3NOYW1lID0gJ2Zvcm0tY29udHJvbCBtZWV0aW5nX2RhdGVfJytsYW5ndWFnZTtcbiAgICBpY29uU3ViQ2FsZW5kYXJJbnB1dC50eXBlID0gJ3RleHQnO1xuICAgIHRleHRhcmVhRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGV4dGFyZWFEaXYuY2xhc3NOYW1lID0gJ2NvbC1sZy03JztcbiAgICB0ZXh0YXJlYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XG4gICAgdGV4dGFyZWEuY2xhc3NOYW1lID0gJ21lZXRpbmdfaW5mb18nK2xhbmd1YWdlO1xuICAgIHRleHRhcmVhLnN0eWxlID0gJ3dpZHRoOiAxMDAlOyc7XG4gICAgdGV4dGFyZWEucm93cyA9ICc1JztcbiAgICBpY29uRGl2LmFwcGVuZChpY29uQ2FsZW5kYXJEaXYpO1xuICAgIGljb25DYWxlbmRhckRpdi5hcHBlbmQoaWNvbkNhbGVuZGFyKTtcbiAgICBpY29uRGl2LmFwcGVuZChpY29uU3ViQ2FsZW5kYXJJbnB1dERpdik7XG4gICAgaWNvblN1YkNhbGVuZGFySW5wdXREaXYuYXBwZW5kKGljb25TdWJDYWxlbmRhcklucHV0KTtcbiAgICB0ZXh0YXJlYURpdi5hcHBlbmQodGV4dGFyZWEpO1xuICAgIG91dGVyRGl2LmFwcGVuZChpY29uRGl2KTtcbiAgICBvdXRlckRpdi5hcHBlbmQodGV4dGFyZWFEaXYpO1xuICAgICQoaWNvblN1YkNhbGVuZGFySW5wdXQpLnBpY2thZGF0ZSh7Zm9ybWF0OiAnZGQvbW0veXl5eSd9KTtcbiAgICAkKGljb25DYWxlbmRhcikub24oJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICQoJCh0aGlzKS5wYXJlbnQoKS5zaWJsaW5ncygpLmNoaWxkcmVuKCdpbnB1dCcpWzBdKS5waWNrYWRhdGUoJ29wZW4nKTtcbiAgICB9KTtcbiAgICByZXR1cm4gb3V0ZXJEaXY7XG4gIH1cblxuXG4gIC8vVGlueU1DXG4gIHRpbnlNQ0UuYmFzZVVSTCA9IHdpbmRvdy5MYXJhdmVsLmJhc2VfcGF0aCtcIi9qcy90aW55bWNlXCI7XG5cbiAgdGlueW1jZS5pbml0KHtcbiAgICBtb2RlIDogXCJ0ZXh0YXJlYXNcIixcbiAgICB0aGVtZSA6IFwibW9kZXJuXCIsXG4gICAgbGFuZ3VhZ2U6IHdpbmRvdy5MYXJhdmVsLmxhbmd1YWdlLFxuICAgIHBsdWdpbnM6IFtcImxpbmtcIiwgXCJwYXN0ZVwiXSxcbiAgICBtZW51YmFyOiBmYWxzZSxcbiAgICB0b29sYmFyOiBcImxpbmtcIixcbiAgICByZW1vdmVmb3JtYXQ6IFtcbiAgICAgIHtzZWxlY3RvcjogJ2Isc3Ryb25nLGVtLGksZm9udCx1LHN0cmlrZScsIHJlbW92ZSA6ICdhbGwnLCBzcGxpdCA6IHRydWUsIGV4cGFuZCA6IGZhbHNlLCBibG9ja19leHBhbmQ6IHRydWUsIGRlZXAgOiB0cnVlfSxcbiAgICAgIHtzZWxlY3RvcjogJ3NwYW4nLCBhdHRyaWJ1dGVzIDogWydzdHlsZScsICdjbGFzcyddLCByZW1vdmUgOiAnZW1wdHknLCBzcGxpdCA6IHRydWUsIGV4cGFuZCA6IGZhbHNlLCBkZWVwIDogdHJ1ZX0sXG4gICAgICB7c2VsZWN0b3I6ICcqJywgYXR0cmlidXRlcyA6IFsnc3R5bGUnLCAnY2xhc3MnXSwgc3BsaXQgOiBmYWxzZSwgZXhwYW5kIDogZmFsc2UsIGRlZXAgOiB0cnVlLH1cbiAgICBdLFxuICAgIHNlbGVjdGlvbl90b29sYmFyOiAnYm9sZCBpdGFsaWMgfCBxdWlja2xpbmsgaDIgaDMgYmxvY2txdW90ZScsXG4gICAgZWRpdG9yX3NlbGVjdG9yIDogXCJtY2VTaW1wbGVMaW5rXCIsXG4gICAgcGFzdGVfYXNfdGV4dDogdHJ1ZVxuICB9KTtcblxuICB0aW55TUNFLmluaXQoe1xuICAgIG1vZGUgOiBcInRleHRhcmVhc1wiLFxuICAgIGxhbmd1YWdlOiB3aW5kb3cuTGFyYXZlbC5sYW5ndWFnZSxcbiAgICBwbHVnaW5zOiBbXCJsaW5rXCIsIFwibGlzdHNcIiwgXCJwYXN0ZVwiLCBcIm5vbmVkaXRhYmxlXCIsIFwicHJldmVudGRlbGV0ZVwiXSxcbiAgICBoZWlnaHQgOiBcIjM1MFwiLFxuICAgIHJlbW92ZWZvcm1hdDogW1xuICAgICAge3NlbGVjdG9yOiAnYixzdHJvbmcsZW0saSxmb250LHUsc3RyaWtlJywgcmVtb3ZlIDogJ2FsbCcsIHNwbGl0IDogdHJ1ZSwgZXhwYW5kIDogZmFsc2UsIGJsb2NrX2V4cGFuZDogdHJ1ZSwgZGVlcCA6IHRydWV9LFxuICAgICAge3NlbGVjdG9yOiAnc3BhbicsIGF0dHJpYnV0ZXMgOiBbJ3N0eWxlJywgJ2NsYXNzJ10sIHJlbW92ZSA6ICdlbXB0eScsIHNwbGl0IDogdHJ1ZSwgZXhwYW5kIDogZmFsc2UsIGRlZXAgOiB0cnVlfSxcbiAgICAgIHtzZWxlY3RvcjogJyonLCBhdHRyaWJ1dGVzIDogWydzdHlsZScsICdjbGFzcyddLCBzcGxpdCA6IGZhbHNlLCBleHBhbmQgOiBmYWxzZSwgZGVlcCA6IHRydWV9XG4gICAgXSxcbiAgICB0b29sYmFyOiBcInJlZG8gdW5kbyBib2xkIGl0YWxpYyBudW1saXN0IGJ1bGxpc3QgbGlua1wiLFxuICAgIG1lbnViYXI6IGZhbHNlLFxuICAgIGVkaXRvcl9zZWxlY3RvciA6IFwibWNlU2ltcGxlXCIsXG4gICAgcGFzdGVfYXNfdGV4dDogdHJ1ZVxuICB9KTtcblxuICAkKCcjc3VibWl0LXByb2plY3QtYnV0dG9uJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGlueU1DRS50cmlnZ2VyU2F2ZSgpO1xuICAgIHRpbnlNQ0UuZ2V0KCdwcm9qZWN0X291dGNvbWVzJykuc2V0Q29udGVudChyZW1vdmVFeGNlc3NXaGl0ZXNwYWNlRnJvbVN0cmluZyh0aW55TUNFLmdldCgncHJvamVjdF9vdXRjb21lcycpLmdldENvbnRlbnQoKS5zcGxpdCgnJm5ic3A7Jykuam9pbignICcpKSk7XG4gICAgdGlueU1DRS5nZXQoJ25vdmVsdHlfZGVzYycpLnNldENvbnRlbnQocmVtb3ZlRXhjZXNzV2hpdGVzcGFjZUZyb21TdHJpbmcodGlueU1DRS5nZXQoJ25vdmVsdHlfZGVzYycpLmdldENvbnRlbnQoKS5zcGxpdCgnJm5ic3A7Jykuam9pbignICcpKSk7XG4gICAgdGlueU1DRS5nZXQoJ2FpbScpLnNldENvbnRlbnQocmVtb3ZlRXhjZXNzV2hpdGVzcGFjZUZyb21TdHJpbmcodGlueU1DRS5nZXQoJ2FpbScpLmdldENvbnRlbnQoKS5zcGxpdCgnJm5ic3A7Jykuam9pbignICcpKSk7XG4gICAgdGlueU1DRS5nZXQoJ2Rlc2NyaXB0aW9uJykuc2V0Q29udGVudChyZW1vdmVFeGNlc3NXaGl0ZXNwYWNlRnJvbVN0cmluZyh0aW55TUNFLmdldCgnZGVzY3JpcHRpb24nKS5nZXRDb250ZW50KCkuc3BsaXQoJyZuYnNwOycpLmpvaW4oJyAnKSkpO1xuICAgIHRpbnlNQ0UudHJpZ2dlclNhdmUoKTtcbiAgICAkKCcjcHJvamVjdC1mb3JtJykuc3VibWl0KCk7XG4gIH0pO1xuXG5cbiAgZnVuY3Rpb24gcmVtb3ZlRXhjZXNzV2hpdGVzcGFjZUZyb21TdHJpbmcgKHN0cmluZykge1xuICAgIHZhciBzdHJpbmdMZW5ndGggPSBzdHJpbmcubGVuZ3RoO1xuICAgIHZhciBvdXRwdXRTdHJpbmcgPSBcIlwiO1xuICAgIGZvciAodmFyIGk9MDtpPHN0cmluZ0xlbmd0aC0xO2krKykge1xuICAgICAgaWYgKCEoc3RyaW5nW2ldID09PSBcIiBcIiAmJiBzdHJpbmdbaSsxXSA9PT0gXCIgXCIgfHwgc3RyaW5nW2ldID09PSBcIiBcIiAmJiBzdHJpbmdbaSsxXSA9PT0gXCI8XCIgfHwgc3RyaW5nW2ktMV0gPT09IFwiPlwiICYmIHN0cmluZ1tpXSA9PT0gXCIgXCIpKSB7XG4gICAgICAgIG91dHB1dFN0cmluZyArPSBzdHJpbmdbaV07XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzdHJpbmdbc3RyaW5nTGVuZ3RoXSAhPT0gXCIgXCIpIHtcbiAgICAgIG91dHB1dFN0cmluZyArPSBzdHJpbmdbc3RyaW5nTGVuZ3RoLTFdXG4gICAgfVxuICAgIC8vIFJlbW92aW5nIGVtcHR5IHRhZ3NcbiAgICB2YXIgaGVscGVyID0gJCgnPGRpdj4nKS5hcHBlbmQob3V0cHV0U3RyaW5nKTtcbiAgICByZW1vdmVFbXB0eUlmTm9DaGlsZHJlbihoZWxwZXIpO1xuICAgIG91dHB1dFN0cmluZyA9IGhlbHBlci5wcm9wKCdpbm5lckhUTUwnKTtcbiAgICByZXR1cm4gb3V0cHV0U3RyaW5nO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlRW1wdHlJZk5vQ2hpbGRyZW4gKGVsZW1lbnQpIHtcbiAgICBpZiAoZWxlbWVudC5jaGlsZHJlbigpLmxlbmd0aCA+IDApIHtcbiAgICAgIGVsZW1lbnQuY2hpbGRyZW4oKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmVtb3ZlRW1wdHlJZk5vQ2hpbGRyZW4oJCh0aGlzKSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGVsZW1lbnQuaHRtbCgpID09PSBcIlwiKSB7XG4gICAgICBlbGVtZW50LnJlbW92ZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8vRnJvbnQgcGFnZSBsb2dvIHRyYW5zbGF0aW9uXG4gIGlmKHdpbmRvdy5MYXJhdmVsLmxhbmd1YWdlID09ICdlbicpe1xuICAgICQoJy5ibG9jazAxLmJsb2NrMDFiID4gLnBhZCcpLmNzcyhcImJhY2tncm91bmRcIiwgJ3VybChjc3MvYmcwNV9lbi5wbmcpIG5vLXJlcGVhdCA1MCUgNTAlJyk7XG4gIH1lbHNle1xuICAgICQoJy5ibG9jazAxLmJsb2NrMDFiID4gLnBhZCcpLmNzcyhcImJhY2tncm91bmRcIiwgJ3VybChjc3MvYmcwNS5wbmcpIG5vLXJlcGVhdCA1MCUgNTAlJyk7XG4gIH1cblxuXG4gIC8vU2VsZWN0IHByb2plY3Qgc2hhcmUgdXJsIG9uIGNsaWNrIG9uIGlucHV0XG4gICQoXCJpbnB1dFtuYW1lPSdzaGFyZV91cmwnXVwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAkKHRoaXMpLnNlbGVjdCgpO1xuICB9KTtcblxuXG4gIGlmKCQoXCIjcHJvamVjdF9hbGxfbWVtYmVyc1wiKS5sZW5ndGgpIHtcblxuICAgIC8vUHJvamVjdCBpZCB1c2VkIGJ5IFByb2plY3RNb2RlcmF0b3IgbWlkZGxld2FyZVxuICAgIHZhciB1cmwgPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWU7XG4gICAgdmFyIHNlZ21lbnRzID0gdXJsLnNwbGl0KCAnLycgKTtcbiAgICB2YXIgcHJvamVjdF9pZCA9ICBzZWdtZW50c1tzZWdtZW50cy5sZW5ndGgtMl07XG5cblxuICAgIC8vRHJhZyBhbmQgZHJvcCBwcm9qZWN0IGdyb3VwIG1lbWJlcnMgZnVuY3Rpb25hbGl0eVxuICAgIFNvcnRhYmxlLmNyZWF0ZShwcm9qZWN0X2FsbF9tZW1iZXJzLCB7XG4gICAgICBncm91cDogeyBuYW1lOiBcInByb2plY3QtYWxsLW1lbWJlcnNcIiwgcHVsbDogdHJ1ZSwgcHV0OnRydWUgfSxcbiAgICAgIGFuaW1hdGlvbjogMTUwLFxuICAgICAgaGFuZGxlOiAnLmRyYWctaGFuZGxlJ1xuICAgIH0pO1xuXG4gICAgdmFyIGVsID0gJCgnLnByb2plY3QtZ3JvdXAnKTtcbiAgICAkKGVsKS5lYWNoKGZ1bmN0aW9uIChpLGUpIHtcbiAgICAgIHZhciBzb3J0YWJsZSA9IFNvcnRhYmxlLmNyZWF0ZShlLCB7XG4gICAgICAgIGdyb3VwOiB7XG4gICAgICAgICAgbmFtZTogZWwuYXR0cignZ3JvdXAtaWQnKSxcbiAgICAgICAgICBwdWxsOiB0cnVlLFxuICAgICAgICAgIHB1dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBhbmltYXRpb246IDE1MCxcbiAgICAgICAgaGFuZGxlOiAnLmRyYWctaGFuZGxlJyxcbiAgICAgICAgb25BZGQ6IGZ1bmN0aW9uIChldnQpIHtcblxuICAgICAgICAgIHZhciBpdGVtRWwgPSBldnQuaXRlbTsgIC8vIGRyYWdnZWQgSFRNTEVsZW1lbnRcbiAgICAgICAgICB2YXIgZnJvbSA9IGV2dC5mcm9tO1xuXG5cbiAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdXJsOiB3aW5kb3cuTGFyYXZlbC5hZGRfdXNlcl90b19ncm91cF9hcGlfdXJsLFxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgIGRlbGF5OiAyNTAsXG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGNhY2hlOiBmYWxzZSxcbiAgICAgICAgICAgIGRhdGE6IHtcblxuICAgICAgICAgICAgICBpZDogcHJvamVjdF9pZCxcbiAgICAgICAgICAgICAgdG86ICQoaXRlbUVsKS5wYXJlbnQoKS5hdHRyKCdncm91cC1pZCcpLFxuICAgICAgICAgICAgICBmcm9tOiAkKGZyb20pLmF0dHIoJ2dyb3VwLWlkJyksXG4gICAgICAgICAgICAgIHVzZXI6ICQoaXRlbUVsKS5hdHRyKCd1c2VyLWlkJylcblxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLmRvbmUoZnVuY3Rpb24oIG1zZyApIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKG1zZyk7XG4gICAgICAgICAgICBpZigkKCdhI2dyb3Vwcy1maW5pc2gtYnV0dG9uJykubGVuZ3RoKXtcbiAgICAgICAgICAgICAgJCgnYSNncm91cHMtZmluaXNoLWJ1dHRvbicpLmFkZENsYXNzKCdub3QtZW1wdHknKTtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgfVxuXG4gICAgICB9KTtcbiAgICB9KVxuICB9XG5cblxuICAvL0NvcHkgdXNlciBtYWluIFRMVSBlbWFpbCBpbnRvIGNvbnRhY3QgZW1haWwgZmllbGRzLCB1c2VkIG9uIHByb2ZpbGUgcGFnZVxuICAkKFwiI2ZpbGxlclwiKS5jbGljayhmaWxsVmFsdWVzKTtcblxuXG4gIGZ1bmN0aW9uIGZpbGxWYWx1ZXMoKSB7XG4gICAgdmFyIHZhbHVlID0gJChcIiN0bHVfZW1haWxcIikudmFsKCk7XG4gICAgdmFyIGZpZWxkcz0gJChcIi5jb250YWN0LWVtYWlsXCIpO1xuICAgIGZpZWxkcy5lYWNoKGZ1bmN0aW9uIChpKSB7XG4gICAgICAkKHRoaXMpLnZhbCh2YWx1ZSk7XG4gICAgfSk7XG4gIH1cblxuXG5cbiAgLy9BZGQgY3VzdG9tIGluc3RpdHV0aW9uIGZpZWxkIGluIHVzZXIgcmVnaXN0cmF0aW9uIGZvcm1cbiAgJCgnI2luc3RpdHV0aW9uJykub24oJ2NoYW5nZScsZnVuY3Rpb24oKXtcbiAgICBpZiggJCh0aGlzKS52YWwoKSA9PT0gd2luZG93LkxhcmF2ZWwub3RoZXJfaW5zdGl0dXRpb24pe1xuICAgICAgJChcIiNvdGhlci1pbnN0aXR1dGlvblwiKS5zaG93KClcbiAgICB9XG4gICAgZWxzZXtcbiAgICAgICQoXCIjb3RoZXItaW5zdGl0dXRpb25cIikuaGlkZSgpXG4gICAgfVxuICB9KTtcblxuXG5cblxuICAvLyBBZGQgbmV3IGdyb3VwIGxpbmtzIGlucHV0IGZpZWxkXG4gIHZhciBhZGRfbGlua3NfZmllbGRfYnV0dG9ucyA9ICQoXCIuYWRkX2xpbmtzX2ZpZWxkX2J1dHRvblwiKTtcblxuICBhZGRfbGlua3NfZmllbGRfYnV0dG9ucy5lYWNoKGZ1bmN0aW9uIChpLCBvYmopIHtcbiAgICB2YXIgZ3JvdXBfaWQgPSAkKG9iaikuYXR0cihcImdyb3VwLWlkXCIpO1xuICAgICQob2JqKS5jbGljayhmdW5jdGlvbihlKXtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHZhciAkZGl2ID0gJCh0aGlzKS5uZXh0KCBcIi5ncm91cC1tYXRlcmlhbHNcIikuY2hpbGRyZW4oKS5sYXN0KCk7XG5cbiAgICAgIHZhciBudW0gPSAkZGl2LnByb3AoXCJpZFwiKTtcblxuICAgICAgbnVtID0gcGFyc2VJbnQobnVtLnNwbGl0KFwiX1wiKS5wb3AoKSk7XG5cblxuICAgICAgdmFyIGNsb25lID0gJCgkZGl2KS5jbG9uZSgpO1xuICAgICAgY2xvbmUucHJvcCgnaWQnLCAnZ3JvdXBfbWF0ZXJpYWxzXycrZ3JvdXBfaWQrJ18nKyhudW0rMSkpO1xuICAgICAgY2xvbmUuZmluZChcImlucHV0XCIpLnZhbChcIlwiKTtcbiAgICAgIGNsb25lLmluc2VydEFmdGVyKCRkaXYpO1xuXG4gICAgICB2YXIgdGFnc2lucHV0ID0gY2xvbmUuZmluZCgnLnRhZ3MnKTtcbiAgICAgIGNsb25lLmZpbmQoJy5ib290c3RyYXAtdGFnc2lucHV0JykucmVtb3ZlKCk7XG5cbiAgICAgICQodGFnc2lucHV0KS5hdHRyKCduYW1lJywgJ2dyb3VwX21hdGVyaWFsX3RhZ3NbJytncm91cF9pZCsnXVtdJyk7XG4gICAgICAkKHRhZ3NpbnB1dCkuYWRkQ2xhc3MoJ2Zvcm0tY29udHJvbCB0YWdzJyk7XG4gICAgICB0YWdzaW5wdXQudGFnc2lucHV0KCk7XG4gICAgICB0YWdzaW5wdXQudGFnc2lucHV0KCdyZW1vdmVBbGwnKTtcblxuXG5cblxuXG4gICAgfSk7XG5cbiAgfSk7XG5cblxuXG5cbiAgLy8gUmVtb3ZlIGdyb3VwIGxpbmtzIGlucHV0IGZpZWxkXG4gIHZhciByZW1vdmVfbGlua3NfZmllbGRfYnV0dG9uID0gJChcIi5yZW1vdmVfbGlua3NfZmllbGRfYnV0dG9uXCIpO1xuXG4gIHJlbW92ZV9saW5rc19maWVsZF9idXR0b24uZWFjaChmdW5jdGlvbiAoaSwgb2JqKSB7XG4gICAgdmFyIGdyb3VwX2lkID0gJChvYmopLmF0dHIoXCJncm91cC1pZFwiKTtcbiAgICAkKG9iaikuY2xpY2soZnVuY3Rpb24oZSl7XG5cbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHZhciAkZGl2ID0gJCh0aGlzKS5wYXJlbnQoKS5jaGlsZHJlbihcIjpsYXN0LWNoaWxkXCIpO1xuXG4gICAgICB2YXIgbnVtID0gJGRpdi5wcm9wKFwiaWRcIik7XG5cbiAgICAgIG51bSA9IHBhcnNlSW50KG51bS5zcGxpdChcIl9cIikucG9wKCkpO1xuXG4gICAgICBpZihudW0+MCl7XG4gICAgICAgICRkaXYucmVtb3ZlKCk7XG4gICAgICB9XG5cblxuXG5cblxuXG4gICAgfSk7XG4gIH0pO1xuXG5cblxuICAkKCdbZGF0YS10b2dnbGU9XCJwb3BvdmVyXCJdJykucG9wb3ZlcigpO1xuXG5cbiAgJCgnI2NsZWFyLWVtYmVkZGVkJykuY2xpY2soZnVuY3Rpb24oKXtcbiAgICAkKCcjZW1iZWRkZWQnKVxuICAgICAgLnZhbCgnJylcbiAgfSk7XG5cblxuICAkKCcjY2xlYXItZ3JvdXAtZW1iZWRkZWQnKS5jbGljayhmdW5jdGlvbigpe1xuICAgICQodGhpcykucHJldignaW5wdXQnKS52YWwoJycpO1xuICB9KTtcblxuXG4gICQoJ2JvZHknKS50b29sdGlwKHtcbiAgICBzZWxlY3RvcjogJ1tyZWw9XCJ0b29sdGlwXCJdJ1xuICB9KTtcblxuXG4gIC8vR3JvdXAgdGl0bGUgcmVuYW1pbmc7XG4gICQoJy5ncm91cC1uYW1lJykuZWRpdGFibGUoe1xuICAgIHNlbmQ6J2Fsd2F5cycsXG4gICAgYWpheE9wdGlvbnM6IHtcbiAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICB0eXBlOiAncG9zdCcsXG5cbiAgICB9LFxuICAgIHBhcmFtczogZnVuY3Rpb24ocGFyYW1zKSB7XG4gICAgICAvL29yaWdpbmFsbHkgcGFyYW1zIGNvbnRhaW4gcGssIG5hbWUgYW5kIHZhbHVlXG4gICAgICBwYXJhbXMuaWQgPSAkKHRoaXMpLmNsb3Nlc3QoXCJkaXZcIikuYXR0cihcInByb2plY3QtaWRcIik7XG4gICAgICByZXR1cm4gcGFyYW1zO1xuICAgIH1cblxuICB9KTtcblxuXG5cblxuXG59KTtcblxuRHJvcHpvbmUuYXV0b0Rpc2NvdmVyID0gZmFsc2U7XG5Ecm9wem9uZS5wcm90b3R5cGUuZGVmYXVsdE9wdGlvbnMuZGljdFJlbW92ZUZpbGUgPSB3aW5kb3cuTGFyYXZlbC5yZW1vdmVfZmlsZV9idXR0b247XG5cbnZhciBkcm9wem9uZXMgPSAkKFwiLmRyb3B6b25lXCIpO1xuZHJvcHpvbmVzLmVhY2goZnVuY3Rpb24gKGkpIHtcbiAgaWYgKHRoaXMuaWQuaW5kZXhPZihcInByZXNlbnRhdGlvblVwbG9hZFwiKSAhPT0gLTEpIHtcbiAgICB2YXIgcmVzb3VyY2VOYW1lID0gXCJQb3N0ZXJcIjtcbiAgICB2YXIgYWNjZXB0ZWQgPSBcImFwcGxpY2F0aW9uL3BkZlwiO1xuICAgIHZhciBtYXhOdW1iZXJPZkZpbGVzID0gMTtcbiAgICB2YXIgZ3JvdXBfaWQgPSBwYXJzZUludCggJCh0aGlzKS5wcm9wKFwiaWRcIikubWF0Y2goL1xcZCsvZyksIDEwICk7XG5cbiAgICB2YXIgcHJvamVjdF9pZCA9ICQoXCIjcHJlc2VudGF0aW9uVXBsb2FkXCIrZ3JvdXBfaWQpLmF0dHIoXCJwcm9qZWN0LWlkXCIpO1xuICAgIHZhciBkcm9wem9uZV9uYW1lID0gXCIjcHJlc2VudGF0aW9uVXBsb2FkXCIrZ3JvdXBfaWQ7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHJlc291cmNlTmFtZSA9IFwiTWF0ZXJpYWxzXCI7XG4gICAgdmFyIGFjY2VwdGVkID0gXCJcIjtcbiAgICB2YXIgbWF4TnVtYmVyT2ZGaWxlcyA9IDEwMDtcbiAgICB2YXIgZ3JvdXBfaWQgPSBwYXJzZUludCggJCh0aGlzKS5wcm9wKFwiaWRcIikubWF0Y2goL1xcZCsvZyksIDEwICk7XG5cbiAgICB2YXIgcHJvamVjdF9pZCA9ICQoXCIjbWF0ZXJpYWxzVXBsb2FkXCIrZ3JvdXBfaWQpLmF0dHIoXCJwcm9qZWN0LWlkXCIpO1xuICAgIHZhciBkcm9wem9uZV9uYW1lID0gXCIjbWF0ZXJpYWxzVXBsb2FkXCIrZ3JvdXBfaWQ7XG4gIH1cbiAgaWYgKHRoaXMuZ2V0QXR0cmlidXRlKCdhdXRoJykgPT0gJ3N0dWRlbnQnKSB7XG4gICAgdmFyIHJvdXRlVG8gPSAnZmluaXNoJztcbiAgfSBlbHNlIHtcbiAgICB2YXIgcm91dGVUbyA9ICdwcm9qZWN0JztcbiAgfVxuXG4gICAgdmFyIG15RHJvcHpvbmUgPSBuZXcgRHJvcHpvbmUoZHJvcHpvbmVfbmFtZSwge1xuICAgIHVybDogd2luZG93LkxhcmF2ZWwuYmFzZV9wYXRoK1wiL1wiK3JvdXRlVG8rXCIvXCIrcHJvamVjdF9pZCtcIi9maW5pc2gvdXBsb2FkXCIrcmVzb3VyY2VOYW1lLFxuICAgIHBhcmFtczoge1xuICAgICAgaWQ6IHByb2plY3RfaWQsXG4gICAgICBfdG9rZW46IHdpbmRvdy5MYXJhdmVsLmNzZnJfdG9rZW4sXG4gICAgICBncm91cF9pZDogZ3JvdXBfaWRcbiAgICB9LFxuICAgIHRpbWVvdXQ6IDAsXG4gICAgcGFyYWxsZWxVcGxvYWRzOiAxLFxuICAgIHBhcmFtTmFtZTogXCJmaWxlXCIsXG4gICAgYWNjZXB0ZWRGaWxlczogYWNjZXB0ZWQsXG4gICAgbWF4RmlsZXM6IG1heE51bWJlck9mRmlsZXMsXG4gICAgbWF4RmlsZXNpemU6IDMwLCAvLyBNQlxuXG4gICAgYWRkUmVtb3ZlTGlua3M6IHRydWUsXG5cbiAgICBpbml0OmZ1bmN0aW9uKCkge1xuXG5cbiAgICAgIC8vIEFkZCBzZXJ2ZXIgaW1hZ2VzXG4gICAgICB2YXIgbXlEcm9wem9uZSA9IHRoaXM7XG5cbiAgICAgICQuZ2V0KHdpbmRvdy5MYXJhdmVsLmJhc2VfcGF0aCtcIi9cIityb3V0ZVRvK1wiL1wiK3Byb2plY3RfaWQrXCIvYXBpL2dyb3VwLVwiK3Jlc291cmNlTmFtZStcIj9ncm91cGlkPVwiK2dyb3VwX2lkLCBmdW5jdGlvbihkYXRhKSB7XG5cblxuICAgICAgICAkLmVhY2goZGF0YS5pbWFnZXMsIGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgICAgdmFyIGZpbGUgPSB7bmFtZTogdmFsdWUuZmlsZW5hbWUsIHNpemU6IHZhbHVlLnNpemV9O1xuICAgICAgICAgIG15RHJvcHpvbmUub3B0aW9ucy5hZGRlZGZpbGUuY2FsbChteURyb3B6b25lLCBmaWxlKTtcbiAgICAgICAgICBteURyb3B6b25lLmNyZWF0ZVRodW1ibmFpbEZyb21VcmwoZmlsZSwgd2luZG93LkxhcmF2ZWwuYmFzZV9wYXRoK1wiL3N0b3JhZ2UvcHJvamVjdHNfZ3JvdXBzX2ltYWdlcy9cIitncm91cF9pZCtcIi9cIit2YWx1ZS5uYW1lKTtcbiAgICAgICAgICBteURyb3B6b25lLmVtaXQoXCJjb21wbGV0ZVwiLCBmaWxlKTtcbiAgICAgICAgICB2YXIgYnRuZGVsZXRlID0gZmlsZS5wcmV2aWV3RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtZHotcmVtb3ZlXVwiKTtcbiAgICAgICAgICBidG5kZWxldGUuc2V0QXR0cmlidXRlKFwiaWRcIiwgJ2RlbGV0ZS1tZWRpYS1uYW1lLScrdmFsdWUubmFtZSk7XG5cbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5vbihcInJlbW92ZWRmaWxlXCIsIGZ1bmN0aW9uKGZpbGUpIHtcblxuICAgICAgICB2YXIgYnRuZGVsZXRlID0gZmlsZS5wcmV2aWV3RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtZHotcmVtb3ZlXVwiKTtcbiAgICAgICAgaWYoYnRuZGVsZXRlLmhhc0F0dHJpYnV0ZShcImlkXCIpKSB7XG4gICAgICAgICAgdmFyIGZpbGVuYW1lID0gYnRuZGVsZXRlLmdldEF0dHJpYnV0ZShcImlkXCIpLnN1YnN0cigxOCk7XG4gICAgICAgIH1cblxuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgIHVybDogd2luZG93LkxhcmF2ZWwuYmFzZV9wYXRoK1wiL1wiK3JvdXRlVG8rXCIvXCIrcHJvamVjdF9pZCtcIi9maW5pc2gvZGVsZXRlXCIrcmVzb3VyY2VOYW1lLFxuICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgZGVsYXk6IDI1MCxcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBjYWNoZTogZmFsc2UsXG4gICAgICAgICAgZGF0YToge1xuXG4gICAgICAgICAgICBpZDogcHJvamVjdF9pZCxcbiAgICAgICAgICAgIG5hbWU6IGZpbGVuYW1lLFxuICAgICAgICAgICAgZ3JvdXBfaWQ6IGdyb3VwX2lkXG5cbiAgICAgICAgICB9XG4gICAgICAgIH0pLmRvbmUoZnVuY3Rpb24oIG1zZyApIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhtc2cpO1xuXG4gICAgICAgIH0pO1xuXG4gICAgICB9ICk7XG4gICAgfSxcbiAgICBzdWNjZXNzOiBmdW5jdGlvbihmaWxlLCBzZXJ2ZXJSZXNwb25zZSkge1xuICAgICAgdmFyIGZpbGV1cGxvZGVkID0gZmlsZS5wcmV2aWV3RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtZHotbmFtZV1cIik7XG4gICAgICBmaWxldXBsb2RlZC5pbm5lckhUTUwgPSBzZXJ2ZXJSZXNwb25zZS5uZXdmaWxlbmFtZTtcbiAgICAgIHZhciBidG5kZWxldGUgPSBmaWxlLnByZXZpZXdFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbZGF0YS1kei1yZW1vdmVdXCIpO1xuICAgICAgYnRuZGVsZXRlLnNldEF0dHJpYnV0ZShcImlkXCIsICdkZWxldGUtbWVkaWEtbmFtZS0nK3NlcnZlclJlc3BvbnNlLm5ld2ZpbGVuYW1lKTtcbiAgICAgIHdpbmRvdy5hbGVydCgnVXBsb2FkIHN1Y2Nlc3NmdWwnKTtcbiAgICB9XG4gIH0pO1xufSk7XG5cblxuXG5cblxuXG5cblxuLypcbiAgU2VuZGluZyBERUxFVEUgcmVxdWVzdCB3aXRob3V0IGEgZm9ybVxuICBFeGFtcGxlOlxuICA8YSBocmVmPVwicG9zdHMvMlwiIGRhdGEtbWV0aG9kPVwiZGVsZXRlXCIgZGF0YS10b2tlbj1cInt7Y3NyZl90b2tlbigpfX1cIj5cbiAqL1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgdmFyIGxhcmF2ZWwgPSB7XG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLm1ldGhvZExpbmtzID0gJCgnYVtkYXRhLW1ldGhvZF0nKTtcbiAgICAgIHRoaXMudG9rZW4gPSAkKCdhW2RhdGEtdG9rZW5dJyk7XG4gICAgICB0aGlzLnJlZ2lzdGVyRXZlbnRzKCk7XG4gICAgfSxcblxuICAgIHJlZ2lzdGVyRXZlbnRzOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMubWV0aG9kTGlua3Mub24oJ2NsaWNrJywgdGhpcy5oYW5kbGVNZXRob2QpO1xuICAgIH0sXG5cbiAgICBoYW5kbGVNZXRob2Q6IGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciBsaW5rID0gJCh0aGlzKTtcbiAgICAgIHZhciBodHRwTWV0aG9kID0gbGluay5kYXRhKCdtZXRob2QnKS50b1VwcGVyQ2FzZSgpO1xuICAgICAgdmFyIGZvcm07XG5cbiAgICAgIC8vIElmIHRoZSBkYXRhLW1ldGhvZCBhdHRyaWJ1dGUgaXMgbm90IFBVVCBvciBERUxFVEUsXG4gICAgICAvLyB0aGVuIHdlIGRvbid0IGtub3cgd2hhdCB0byBkby4gSnVzdCBpZ25vcmUuXG4gICAgICBpZiAoICQuaW5BcnJheShodHRwTWV0aG9kLCBbJ1BVVCcsICdERUxFVEUnXSkgPT09IC0gMSApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBBbGxvdyB1c2VyIHRvIG9wdGlvbmFsbHkgcHJvdmlkZSBkYXRhLWNvbmZpcm09XCJBcmUgeW91IHN1cmU/XCJcbiAgICAgIGlmICggbGluay5kYXRhKCdjb25maXJtJykgKSB7XG4gICAgICAgIGlmICggISBsYXJhdmVsLnZlcmlmeUNvbmZpcm0obGluaykgKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZvcm0gPSBsYXJhdmVsLmNyZWF0ZUZvcm0obGluayk7XG4gICAgICBmb3JtLnN1Ym1pdCgpO1xuXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSxcblxuICAgIHZlcmlmeUNvbmZpcm06IGZ1bmN0aW9uKGxpbmspIHtcbiAgICAgIHJldHVybiBjb25maXJtKGxpbmsuZGF0YSgnY29uZmlybScpKTtcbiAgICB9LFxuXG4gICAgY3JlYXRlRm9ybTogZnVuY3Rpb24obGluaykge1xuICAgICAgdmFyIGZvcm0gPVxuICAgICAgICAkKCc8Zm9ybT4nLCB7XG4gICAgICAgICAgJ21ldGhvZCc6ICdQT1NUJyxcbiAgICAgICAgICAnYWN0aW9uJzogbGluay5hdHRyKCdocmVmJylcbiAgICAgICAgfSk7XG5cbiAgICAgIHZhciB0b2tlbiA9XG4gICAgICAgICQoJzxpbnB1dD4nLCB7XG4gICAgICAgICAgJ3R5cGUnOiAnaGlkZGVuJyxcbiAgICAgICAgICAnbmFtZSc6ICdfdG9rZW4nLFxuICAgICAgICAgICd2YWx1ZSc6IGxpbmsuZGF0YSgndG9rZW4nKVxuICAgICAgICB9KTtcblxuICAgICAgdmFyIGhpZGRlbklucHV0ID1cbiAgICAgICAgJCgnPGlucHV0PicsIHtcbiAgICAgICAgICAnbmFtZSc6ICdfbWV0aG9kJyxcbiAgICAgICAgICAndHlwZSc6ICdoaWRkZW4nLFxuICAgICAgICAgICd2YWx1ZSc6IGxpbmsuZGF0YSgnbWV0aG9kJylcbiAgICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBmb3JtLmFwcGVuZCh0b2tlbiwgaGlkZGVuSW5wdXQpXG4gICAgICAgIC5hcHBlbmRUbygnYm9keScpO1xuICAgIH1cbiAgfTtcblxuICBsYXJhdmVsLmluaXRpYWxpemUoKTtcblxufSkoKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyByZXNvdXJjZXMvYXNzZXRzL2pzL2FwcC5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7QUFhQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }
/******/ ]);